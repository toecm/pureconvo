{"ast":null,"code":"const We = \"host\",\n  Te = \"queue/data\",\n  Ze = \"queue/join\",\n  ye = \"upload\",\n  Ke = \"login\",\n  K = \"config\",\n  Ve = \"info\",\n  Ye = \"runtime\",\n  Qe = \"sleeptime\",\n  Xe = \"heartbeat\",\n  et = \"component_server\",\n  tt = \"reset\",\n  st = \"cancel\",\n  nt = \"app_id\",\n  Ae = \"This application is currently busy. Please try again. \",\n  M = \"Connection errored out. \",\n  D = \"Could not resolve app config. \",\n  it = \"Could not get space status. \",\n  ot = \"Could not get API info. \",\n  ue = \"Space metadata could not be loaded. \",\n  rt = \"Invalid URL. A full URL path is required.\",\n  at = \"Not authorized to access this space. \",\n  xe = \"Invalid credentials. Could not login. \",\n  ct = \"Login credentials are required to access this space.\",\n  ut = \"File system access is only available in Node.js environments\",\n  Ce = \"Root URL not found in client config\",\n  lt = \"Error uploading file\";\nasync function be(e, s, t) {\n  try {\n    return (await (await fetch(`https://huggingface.co/api/spaces/${e}/jwt`, {\n      headers: {\n        Authorization: `Bearer ${s}`,\n        ...(t ? {\n          Cookie: t\n        } : {})\n      }\n    })).json()).token || !1;\n  } catch {\n    return !1;\n  }\n}\nfunction pt(e) {\n  let s = {};\n  return e.forEach(({\n    api_name: t,\n    id: n\n  }) => {\n    t && (s[t] = n);\n  }), s;\n}\nasync function dt(e) {\n  const s = this.options.token ? {\n    Authorization: `Bearer ${this.options.token}`\n  } : {};\n  if (s[\"Content-Type\"] = \"application/json\", typeof window < \"u\" && window.gradio_config && location.origin !== \"http://localhost:9876\") {\n    if (window.gradio_config.current_page && (e = e.substring(0, e.lastIndexOf(\"/\"))), window.gradio_config.dev_mode || typeof window < \"u\" && window?.BUILD_MODE === \"dev\") {\n      let t = ae(e, this.deep_link ? K + \"?deep_link=\" + this.deep_link : K);\n      const n = await this.fetch(t, {\n          headers: s,\n          credentials: \"include\"\n        }),\n        i = await ve(n, !!this.options.auth);\n      i.root = e || i.root, window.gradio_config = {\n        ...i,\n        current_page: window.gradio_config.current_page\n      };\n    }\n    return {\n      ...window.gradio_config\n    };\n  } else if (e) {\n    let t = ae(e, this.deep_link ? K + \"?deep_link=\" + this.deep_link : K);\n    const n = await this.fetch(t, {\n        headers: s,\n        credentials: \"include\"\n      }),\n      i = await ve(n, !!this.options.auth);\n    return i.root || (i.root = e), i;\n  }\n  throw new Error(D);\n}\nasync function ve(e, s) {\n  if (e?.status === 401 && !s) {\n    const n = (await e.json())?.detail?.auth_message;\n    throw new Error(n || ct);\n  } else if (e?.status === 401 && s) throw new Error(xe);\n  if (e?.status === 200) {\n    let t = await e.json();\n    return t.dependencies?.forEach((n, i) => {\n      n.id === void 0 && (n.id = i);\n    }), t;\n  } else if (e?.status === 401) throw new Error(at);\n  throw new Error(D);\n}\nasync function ht() {\n  const {\n    http_protocol: e,\n    host: s\n  } = await pe(this.app_reference, this.options.token);\n  try {\n    if (this.options.auth) {\n      const t = await De(e, s, this.options.auth, this.fetch, this.options.token);\n      t && this.set_cookies(t);\n    }\n  } catch (t) {\n    throw Error(t.message);\n  }\n}\nasync function De(e, s, t, n, i) {\n  const r = new FormData();\n  r.append(\"username\", t?.[0]), r.append(\"password\", t?.[1]);\n  let o = {};\n  i && (o.Authorization = `Bearer ${i}`);\n  const a = await n(`${e}//${s}/${Ke}`, {\n    headers: o,\n    method: \"POST\",\n    body: r,\n    credentials: \"include\"\n  });\n  if (a.status === 200) return a.headers.get(\"set-cookie\");\n  throw a.status === 401 ? new Error(xe) : new Error(ue);\n}\nfunction re(e) {\n  if (e.startsWith(\"http\")) {\n    const {\n      protocol: s,\n      host: t,\n      pathname: n\n    } = new URL(e);\n    return {\n      ws_protocol: s === \"https:\" ? \"wss\" : \"ws\",\n      http_protocol: s,\n      host: t + (n !== \"/\" ? n : \"\")\n    };\n  }\n  return {\n    ws_protocol: \"wss\",\n    http_protocol: \"https:\",\n    host: new URL(e).host\n  };\n}\nconst Ne = e => {\n    let s = [];\n    return e.split(/,(?=\\s*[^\\s=;]+=[^\\s=;]+)/).forEach(n => {\n      const [i, r] = n.split(\";\")[0].split(\"=\");\n      i && r && s.push(`${i.trim()}=${r.trim()}`);\n    }), s;\n  },\n  le = /^[a-zA-Z0-9_\\-\\.]+\\/[a-zA-Z0-9_\\-\\.]+$/,\n  ft = /.*hf\\.space\\/{0,1}.*$/;\nasync function pe(e, s) {\n  const t = {};\n  s && (t.Authorization = `Bearer ${s}`);\n  const n = e.trim().replace(/\\/$/, \"\");\n  if (le.test(n)) try {\n    const r = (await (await fetch(`https://huggingface.co/api/spaces/${n}/${We}`, {\n      headers: t\n    })).json()).host;\n    return {\n      space_id: e,\n      ...re(r)\n    };\n  } catch {\n    throw new Error(ue);\n  }\n  if (ft.test(n)) {\n    const {\n      ws_protocol: i,\n      http_protocol: r,\n      host: o\n    } = re(n);\n    return {\n      space_id: o.split(\"/\")[0].replace(\".hf.space\", \"\"),\n      ws_protocol: i,\n      http_protocol: r,\n      host: o\n    };\n  }\n  return {\n    space_id: !1,\n    ...re(n)\n  };\n}\nconst ae = (...e) => {\n  try {\n    return e.reduce((s, t) => (s = s.replace(/\\/+$/, \"\"), t = t.replace(/^\\/+/, \"\"), new URL(t, s + \"/\").toString()));\n  } catch {\n    throw new Error(rt);\n  }\n};\nfunction _t(e, s, t) {\n  const n = {\n    named_endpoints: {},\n    unnamed_endpoints: {}\n  };\n  return Object.keys(e).forEach(i => {\n    (i === \"named_endpoints\" || i === \"unnamed_endpoints\") && (n[i] = {}, Object.entries(e[i]).forEach(([r, {\n      parameters: o,\n      returns: a\n    }]) => {\n      const u = s.dependencies.find(c => c.api_name === r || c.api_name === r.replace(\"/\", \"\"))?.id || t[r.replace(\"/\", \"\")] || -1,\n        l = u !== -1 ? s.dependencies.find(c => c.id == u)?.types : {\n          generator: !1,\n          cancel: !1\n        };\n      if (u !== -1 && s.dependencies.find(c => c.id == u)?.inputs?.length !== o.length) {\n        const c = s.dependencies.find(m => m.id == u).inputs.map(m => s.components.find(w => w.id === m)?.type);\n        try {\n          c.forEach((m, w) => {\n            if (m === \"state\") {\n              const N = {\n                component: \"state\",\n                example: null,\n                parameter_default: null,\n                parameter_has_default: !0,\n                parameter_name: null,\n                hidden: !0\n              };\n              o.splice(w, 0, N);\n            }\n          });\n        } catch (m) {\n          console.error(m);\n        }\n      }\n      const p = (c, m, w, N) => ({\n        ...c,\n        description: gt(c?.type, w),\n        type: mt(c?.type, m, w, N) || \"\"\n      });\n      n[i][r] = {\n        parameters: o.map(c => p(c, c?.component, c?.serializer, \"parameter\")),\n        returns: a.map(c => p(c, c?.component, c?.serializer, \"return\")),\n        type: l\n      };\n    }));\n  }), n;\n}\nfunction mt(e, s, t, n) {\n  if (s === \"Api\") return e.type;\n  switch (e?.type) {\n    case \"string\":\n      return \"string\";\n    case \"boolean\":\n      return \"boolean\";\n    case \"number\":\n      return \"number\";\n  }\n  if (t === \"JSONSerializable\" || t === \"StringSerializable\") return \"any\";\n  if (t === \"ListStringSerializable\") return \"string[]\";\n  if (s === \"Image\") return n === \"parameter\" ? \"Blob | File | Buffer\" : \"string\";\n  if (t === \"FileSerializable\") return e?.type === \"array\" ? n === \"parameter\" ? \"(Blob | File | Buffer)[]\" : \"{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}[]\" : n === \"parameter\" ? \"Blob | File | Buffer\" : \"{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}\";\n  if (t === \"GallerySerializable\") return n === \"parameter\" ? \"[(Blob | File | Buffer), (string | null)][]\" : \"[{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}, (string | null))][]\";\n}\nfunction gt(e, s) {\n  return s === \"GallerySerializable\" ? \"array of [file, label] tuples\" : s === \"ListStringSerializable\" ? \"array of strings\" : s === \"FileSerializable\" ? \"array of files or single file\" : e?.description;\n}\nfunction Ee(e, s) {\n  switch (e.msg) {\n    case \"send_data\":\n      return {\n        type: \"data\"\n      };\n    case \"send_hash\":\n      return {\n        type: \"hash\"\n      };\n    case \"queue_full\":\n      return {\n        type: \"update\",\n        status: {\n          queue: !0,\n          message: Ae,\n          stage: \"error\",\n          code: e.code,\n          success: e.success\n        }\n      };\n    case \"heartbeat\":\n      return {\n        type: \"heartbeat\"\n      };\n    case \"unexpected_error\":\n      return {\n        type: \"unexpected_error\",\n        status: {\n          queue: !0,\n          message: e.message,\n          session_not_found: e.session_not_found,\n          stage: \"error\",\n          success: !1\n        }\n      };\n    case \"broken_connection\":\n      return {\n        type: \"broken_connection\",\n        status: {\n          queue: !0,\n          message: e.message,\n          stage: \"error\",\n          success: !1\n        }\n      };\n    case \"estimation\":\n      return {\n        type: \"update\",\n        status: {\n          queue: !0,\n          stage: s || \"pending\",\n          code: e.code,\n          size: e.queue_size,\n          position: e.rank,\n          eta: e.rank_eta,\n          success: e.success\n        }\n      };\n    case \"progress\":\n      return {\n        type: \"update\",\n        status: {\n          queue: !0,\n          stage: \"pending\",\n          code: e.code,\n          progress_data: e.progress_data,\n          success: e.success\n        }\n      };\n    case \"log\":\n      return {\n        type: \"log\",\n        data: e\n      };\n    case \"process_generating\":\n      return {\n        type: \"generating\",\n        status: {\n          queue: !0,\n          message: e.success ? null : e.output.error,\n          stage: e.success ? \"generating\" : \"error\",\n          code: e.code,\n          progress_data: e.progress_data,\n          eta: e.average_duration,\n          changed_state_ids: e.success ? e.output.changed_state_ids : void 0\n        },\n        data: e.success ? e.output : null\n      };\n    case \"process_streaming\":\n      return {\n        type: \"streaming\",\n        status: {\n          queue: !0,\n          message: e.output.error,\n          stage: \"streaming\",\n          time_limit: e.time_limit,\n          code: e.code,\n          progress_data: e.progress_data,\n          eta: e.eta\n        },\n        data: e.output\n      };\n    case \"process_completed\":\n      return \"error\" in e.output ? {\n        type: \"update\",\n        status: {\n          queue: !0,\n          title: e.output.title ?? \"Error\",\n          message: e.output.error ?? \"An error occurred\",\n          visible: e.output.visible,\n          duration: e.output.duration,\n          stage: \"error\",\n          code: e.code,\n          success: e.success\n        }\n      } : {\n        type: \"complete\",\n        status: {\n          queue: !0,\n          message: e.success ? void 0 : e.output.error,\n          stage: e.success ? \"complete\" : \"error\",\n          code: e.code,\n          progress_data: e.progress_data,\n          changed_state_ids: e.success ? e.output.changed_state_ids : void 0\n        },\n        data: e.success ? e.output : null\n      };\n    case \"process_starts\":\n      return {\n        type: \"update\",\n        status: {\n          queue: !0,\n          stage: \"pending\",\n          code: e.code,\n          size: e.rank,\n          position: 0,\n          success: e.success,\n          eta: e.eta\n        },\n        original_msg: \"process_starts\"\n      };\n  }\n  return {\n    type: \"none\",\n    status: {\n      stage: \"error\",\n      queue: !0\n    }\n  };\n}\nconst wt = (e = [], s) => {\n  const t = s ? s.parameters : [];\n  if (Array.isArray(e)) return s && t.length > 0 && e.length > t.length && console.warn(\"Too many arguments provided for the endpoint.\"), e;\n  const n = [],\n    i = Object.keys(e);\n  return t.forEach((r, o) => {\n    if (e.hasOwnProperty(r.parameter_name)) n[o] = e[r.parameter_name];else if (r.parameter_has_default) n[o] = r.parameter_default;else throw new Error(`No value provided for required parameter: ${r.parameter_name}`);\n  }), i.forEach(r => {\n    if (!t.some(o => o.parameter_name === r)) throw new Error(`Parameter \\`${r}\\` is not a valid keyword argument. Please refer to the API for usage.`);\n  }), n.forEach((r, o) => {\n    if (r === void 0 && !t[o].parameter_has_default) throw new Error(`No value provided for required parameter: ${t[o].parameter_name}`);\n  }), n;\n};\nasync function yt() {\n  if (this.api_info) return this.api_info;\n  const {\n      token: e\n    } = this.options,\n    {\n      config: s\n    } = this,\n    t = {\n      \"Content-Type\": \"application/json\"\n    };\n  if (e && (t.Authorization = `Bearer ${e}`), !!s) try {\n    let n, i;\n    if (typeof window < \"u\" && window.gradio_api_info) i = window.gradio_api_info;else {\n      const r = ae(s.root, this.api_prefix, Ve);\n      if (n = await this.fetch(r, {\n        headers: t,\n        credentials: \"include\"\n      }), !n.ok) throw new Error(M);\n      i = await n.json();\n    }\n    return \"api\" in i && (i = i.api), i.named_endpoints[\"/predict\"] && !i.unnamed_endpoints[0] && (i.unnamed_endpoints[0] = i.named_endpoints[\"/predict\"]), _t(i, s, this.api_map);\n  } catch (n) {\n    throw new Error(\"Could not get API info. \" + n.message);\n  }\n}\nasync function bt(e, s, t) {\n  const n = {};\n  this?.options?.token && (n.Authorization = `Bearer ${this.options.token}`);\n  const i = 1e3,\n    r = [];\n  let o;\n  for (let a = 0; a < s.length; a += i) {\n    const u = s.slice(a, a + i),\n      l = new FormData();\n    u.forEach(c => {\n      l.append(\"files\", c);\n    });\n    try {\n      const c = t ? `${e}${this.api_prefix}/${ye}?upload_id=${t}` : `${e}${this.api_prefix}/${ye}`;\n      o = await this.fetch(c, {\n        method: \"POST\",\n        body: l,\n        headers: n,\n        credentials: \"include\"\n      });\n    } catch (c) {\n      throw new Error(M + c.message);\n    }\n    if (!o.ok) {\n      const c = await o.text();\n      return {\n        error: `HTTP ${o.status}: ${c}`\n      };\n    }\n    const p = await o.json();\n    p && r.push(...p);\n  }\n  return {\n    files: r\n  };\n}\nconst vt = {\n    radix: 1e3,\n    unit: [\"b\", \"kb\", \"Mb\", \"Gb\", \"Tb\", \"Pb\", \"Eb\", \"Zb\", \"Yb\"]\n  },\n  Et = {\n    radix: 1024,\n    unit: [\"b\", \"Kib\", \"Mib\", \"Gib\", \"Tib\", \"Pib\", \"Eib\", \"Zib\", \"Yib\"]\n  },\n  St = {\n    radix: 1024,\n    unit: [\"b\", \"Kb\", \"Mb\", \"Gb\", \"Tb\", \"Pb\", \"Eb\", \"Zb\", \"Yb\"]\n  },\n  Se = {\n    si: vt,\n    iec: Et,\n    jedec: St\n  };\nfunction $t(e, s = 1, t = \"jedec\") {\n  e = Math.abs(e);\n  const {\n    radix: n,\n    unit: i\n  } = Se[t] || Se.jedec;\n  let r = 0;\n  for (; e >= n;) e /= n, ++r;\n  return `${e.toFixed(s)} ${i[r]}`;\n}\nasync function kt(e, s, t, n) {\n  let i = (Array.isArray(e) ? e : [e]).map(o => o.blob);\n  const r = i.filter(o => o.size > (n ?? 1 / 0));\n  if (r.length) throw new Error(`File(s) exceed the maximum allowed size of ${$t(n || 1 / 0)}: ${r.map(o => `\"${o.name}\"`).join(\", \")}`);\n  return await Promise.all(await this.upload_files(s, i, t).then(async o => {\n    if (o.error) throw new Error(o.error);\n    return o.files ? o.files.map((a, u) => new Q({\n      ...e[u],\n      path: a,\n      url: `${s}${this.api_prefix}/file=${a}`\n    })) : [];\n  }));\n}\nasync function Xt(e, s) {\n  return e.map(t => new Q({\n    path: t.name,\n    orig_name: t.name,\n    blob: t,\n    size: t.size,\n    mime_type: t.type,\n    is_stream: s\n  }));\n}\nclass Q {\n  path;\n  url;\n  orig_name;\n  size;\n  blob;\n  is_stream;\n  mime_type;\n  alt_text;\n  b64;\n  meta = {\n    _type: \"gradio.FileData\"\n  };\n  constructor({\n    path: s,\n    url: t,\n    orig_name: n,\n    size: i,\n    blob: r,\n    is_stream: o,\n    mime_type: a,\n    alt_text: u,\n    b64: l\n  }) {\n    this.path = s, this.url = t, this.orig_name = n, this.size = i, this.blob = t ? void 0 : r, this.is_stream = o, this.mime_type = a, this.alt_text = u, this.b64 = l;\n  }\n}\nclass Le {\n  type;\n  command;\n  meta;\n  fileData;\n  constructor(s, t) {\n    this.type = \"command\", this.command = s, this.meta = t;\n  }\n}\nconst Rt = typeof process < \"u\" && process.versions && process.versions.node;\nfunction $e(e, s, t) {\n  for (; t.length > 1;) {\n    const i = t.shift();\n    if (typeof i == \"string\" || typeof i == \"number\") e = e[i];else throw new Error(\"Invalid key type\");\n  }\n  const n = t.shift();\n  if (typeof n == \"string\" || typeof n == \"number\") e[n] = s;else throw new Error(\"Invalid key type\");\n}\nasync function ce(e, s = void 0, t = [], n = !1, i = void 0) {\n  if (Array.isArray(e)) {\n    let r = [];\n    return await Promise.all(e.map(async (o, a) => {\n      let u = t.slice();\n      u.push(String(a));\n      const l = await ce(e[a], n ? i?.parameters[a]?.component || void 0 : s, u, !1, i);\n      r = r.concat(l);\n    })), r;\n  } else {\n    if (globalThis.Buffer && e instanceof globalThis.Buffer || e instanceof Blob) return [{\n      path: t,\n      blob: new Blob([e]),\n      type: s\n    }];\n    if (typeof e == \"object\" && e !== null) {\n      let r = [];\n      for (const o of Object.keys(e)) {\n        const a = [...t, o],\n          u = e[o];\n        r = r.concat(await ce(u, void 0, a, !1, i));\n      }\n      return r;\n    }\n  }\n  return [];\n}\nfunction Ot(e, s) {\n  let t = s?.dependencies?.find(n => n.id == e)?.queue;\n  return t != null ? !t : !s.enable_queue;\n}\nfunction Tt(e, s) {\n  return new Promise((t, n) => {\n    const i = new MessageChannel();\n    i.port1.onmessage = ({\n      data: r\n    }) => {\n      i.port1.close(), t(r);\n    }, window.parent.postMessage(e, s, [i.port2]);\n  });\n}\nfunction es(e) {\n  if (typeof e == \"string\") {\n    if (e.startsWith(\"http://\") || e.startsWith(\"https://\")) return {\n      path: e,\n      url: e,\n      orig_name: e.split(\"/\").pop() ?? \"unknown\",\n      meta: {\n        _type: \"gradio.FileData\"\n      }\n    };\n    if (Rt) return new Le(\"upload_file\", {\n      path: e,\n      name: e,\n      orig_path: e\n    });\n  } else {\n    if (typeof File < \"u\" && e instanceof File) return new Blob([e]);\n    if (e instanceof Buffer) return new Blob([e]);\n    if (e instanceof Blob) return e;\n  }\n  throw new Error(\"Invalid input: must be a URL, File, Blob, or Buffer object.\");\n}\nfunction V(e, s, t, n, i = !1) {\n  if (n === \"input\" && !i) throw new Error(\"Invalid code path. Cannot skip state inputs for input.\");\n  if (n === \"output\" && i) return e;\n  let r = [],\n    o = 0;\n  const a = n === \"input\" ? s.inputs : s.outputs;\n  for (let u = 0; u < a.length; u++) {\n    const l = a[u];\n    if (t.find(c => c.id === l)?.type === \"state\") {\n      if (i) {\n        if (e.length === a.length) {\n          const c = e[o];\n          r.push(c), o++;\n        } else r.push(null);\n      } else {\n        o++;\n        continue;\n      }\n      continue;\n    } else {\n      const c = e[o];\n      r.push(c), o++;\n    }\n  }\n  return r;\n}\nasync function At(e, s, t) {\n  const n = this;\n  await xt(n, s);\n  const i = await ce(s, void 0, [], !0, t);\n  return (await Promise.all(i.map(async ({\n    path: o,\n    blob: a,\n    type: u\n  }) => {\n    if (!a) return {\n      path: o,\n      type: u\n    };\n    const l = await n.upload_files(e, [a]),\n      p = l.files && l.files[0];\n    return {\n      path: o,\n      file_url: p,\n      type: u,\n      name: typeof File < \"u\" && a instanceof File ? a?.name : void 0\n    };\n  }))).forEach(({\n    path: o,\n    file_url: a,\n    type: u,\n    name: l\n  }) => {\n    if (u === \"Gallery\") $e(s, a, o);else if (a) {\n      const p = new Q({\n        path: a,\n        orig_name: l\n      });\n      $e(s, p, o);\n    }\n  }), s;\n}\nasync function xt(e, s) {\n  if (!(e.config?.root || e.config?.root_url)) throw new Error(Ce);\n  await Pe(e, s);\n}\nasync function Pe(e, s, t = []) {\n  for (const n in s) s[n] instanceof Le ? await Ct(e, s, n) : typeof s[n] == \"object\" && s[n] !== null && (await Pe(e, s[n], [...t, n]));\n}\nasync function Ct(e, s, t) {\n  let n = s[t];\n  const i = e.config?.root || e.config?.root_url;\n  if (!i) throw new Error(Ce);\n  try {\n    let r, o;\n    if (typeof process < \"u\" && process.versions && process.versions.node) {\n      const p = await import(\"./__vite-browser-external-DYxpcVy9.js\");\n      o = (await import(\"./__vite-browser-external-DYxpcVy9.js\")).resolve(process.cwd(), n.meta.path), r = await p.readFile(o);\n    } else throw new Error(ut);\n    const a = new Blob([r], {\n        type: \"application/octet-stream\"\n      }),\n      u = await e.upload_files(i, [a]),\n      l = u.files && u.files[0];\n    if (l) {\n      const p = new Q({\n        path: l,\n        orig_name: n.meta.name || \"\"\n      });\n      s[t] = p;\n    }\n  } catch (r) {\n    console.error(lt, r);\n  }\n}\nasync function Dt(e, s, t) {\n  const n = {\n    \"Content-Type\": \"application/json\"\n  };\n  this.options.token && (n.Authorization = `Bearer ${this.options.token}`);\n  try {\n    var i = await this.fetch(e, {\n      method: \"POST\",\n      body: JSON.stringify(s),\n      headers: {\n        ...n,\n        ...t\n      },\n      credentials: \"include\"\n    });\n  } catch {\n    return [{\n      error: M\n    }, 500];\n  }\n  let r, o;\n  try {\n    r = await i.json(), o = i.status;\n  } catch (a) {\n    r = {\n      error: `Could not parse server response: ${a}`\n    }, o = 500;\n  }\n  return [r, o];\n}\nasync function Nt(e, s = {}) {\n  let t = !1,\n    n = !1;\n  if (!this.config) throw new Error(\"Could not resolve app config\");\n  if (typeof e == \"number\") this.config.dependencies.find(i => i.id == e);else {\n    const i = e.replace(/^\\//, \"\");\n    this.config.dependencies.find(r => r.id == this.api_map[i]);\n  }\n  return new Promise(async (i, r) => {\n    const o = this.submit(e, s, null, null, !0);\n    let a;\n    for await (const u of o) u.type === \"data\" && (n && i(a), t = !0, a = u), u.type === \"status\" && (u.stage === \"error\" && r(u), u.stage === \"complete\" && (n = !0, t && i(a)));\n  });\n}\nasync function G(e, s, t) {\n  let n = s === \"subdomain\" ? `https://huggingface.co/api/spaces/by-subdomain/${e}` : `https://huggingface.co/api/spaces/${e}`,\n    i,\n    r;\n  try {\n    if (i = await fetch(n), r = i.status, r !== 200) throw new Error();\n    i = await i.json();\n  } catch {\n    t({\n      status: \"error\",\n      load_status: \"error\",\n      message: it,\n      detail: \"NOT_FOUND\"\n    });\n    return;\n  }\n  if (!i || r !== 200) return;\n  const {\n    runtime: {\n      stage: o\n    },\n    id: a\n  } = i;\n  switch (o) {\n    case \"STOPPED\":\n    case \"SLEEPING\":\n      t({\n        status: \"sleeping\",\n        load_status: \"pending\",\n        message: \"Space is asleep. Waking it up...\",\n        detail: o\n      }), setTimeout(() => {\n        G(e, s, t);\n      }, 1e3);\n      break;\n    case \"PAUSED\":\n      t({\n        status: \"paused\",\n        load_status: \"error\",\n        message: \"This space has been paused by the author. If you would like to try this demo, consider duplicating the space.\",\n        detail: o,\n        discussions_enabled: await ke(a)\n      });\n      break;\n    case \"RUNNING\":\n    case \"RUNNING_BUILDING\":\n      t({\n        status: \"running\",\n        load_status: \"complete\",\n        message: \"Space is running.\",\n        detail: o\n      });\n      break;\n    case \"BUILDING\":\n      t({\n        status: \"building\",\n        load_status: \"pending\",\n        message: \"Space is building...\",\n        detail: o\n      }), setTimeout(() => {\n        G(e, s, t);\n      }, 1e3);\n      break;\n    case \"APP_STARTING\":\n      t({\n        status: \"starting\",\n        load_status: \"pending\",\n        message: \"Space is starting...\",\n        detail: o\n      }), setTimeout(() => {\n        G(e, s, t);\n      }, 1e3);\n      break;\n    default:\n      t({\n        status: \"space_error\",\n        load_status: \"error\",\n        message: \"This space is experiencing an issue.\",\n        detail: o,\n        discussions_enabled: await ke(a)\n      });\n      break;\n  }\n}\nconst Ie = async (e, s) => {\n    let t = 0;\n    const n = 12,\n      i = 5e3;\n    return new Promise(r => {\n      G(e, le.test(e) ? \"space_name\" : \"subdomain\", o => {\n        s(o), o.status === \"running\" || o.status === \"error\" || o.status === \"paused\" || o.status === \"space_error\" ? r() : (o.status === \"sleeping\" || o.status === \"building\") && (t < n ? (t++, setTimeout(() => {\n          Ie(e, s).then(r);\n        }, i)) : r());\n      });\n    });\n  },\n  Lt = /^(?=[^]*\\b[dD]iscussions{0,1}\\b)(?=[^]*\\b[dD]isabled\\b)[^]*$/;\nasync function ke(e) {\n  try {\n    const s = await fetch(`https://huggingface.co/api/spaces/${e}/discussions`, {\n        method: \"HEAD\"\n      }),\n      t = s.headers.get(\"x-error-message\");\n    return !(!s.ok || t && Lt.test(t));\n  } catch {\n    return !1;\n  }\n}\nasync function Pt(e, s) {\n  const t = {};\n  s && (t.Authorization = `Bearer ${s}`);\n  try {\n    const n = await fetch(`https://huggingface.co/api/spaces/${e}/${Ye}`, {\n      headers: t\n    });\n    if (n.status !== 200) throw new Error(\"Space hardware could not be obtained.\");\n    const {\n      hardware: i\n    } = await n.json();\n    return i.current;\n  } catch (n) {\n    throw new Error(n.message);\n  }\n}\nasync function It(e, s, t) {\n  const n = {};\n  t && (n.Authorization = `Bearer ${t}`);\n  const i = {\n    seconds: s\n  };\n  try {\n    const r = await fetch(`https://huggingface.co/api/spaces/${e}/${Qe}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...n\n      },\n      body: JSON.stringify(i)\n    });\n    if (r.status !== 200) throw new Error(\"Could not set sleep timeout on duplicated Space. Please visit *ADD HF LINK TO SETTINGS* to set a timeout manually to reduce billing charges.\");\n    return await r.json();\n  } catch (r) {\n    throw new Error(r.message);\n  }\n}\nconst Re = [\"cpu-basic\", \"cpu-upgrade\", \"cpu-xl\", \"t4-small\", \"t4-medium\", \"a10g-small\", \"a10g-large\", \"a10g-largex2\", \"a10g-largex4\", \"a100-large\", \"zero-a10g\", \"h100\", \"h100x8\"];\nasync function jt(e, s) {\n  const {\n    token: t,\n    private: n,\n    hardware: i,\n    timeout: r,\n    auth: o\n  } = s;\n  if (i && !Re.includes(i)) throw new Error(`Invalid hardware type provided. Valid types are: ${Re.map(g => `\"${g}\"`).join(\",\")}.`);\n  const {\n    http_protocol: a,\n    host: u\n  } = await pe(e, t);\n  let l = null;\n  if (o) {\n    const g = await De(a, u, o, fetch);\n    g && (l = Ne(g));\n  }\n  const p = {\n      Authorization: `Bearer ${t}`,\n      \"Content-Type\": \"application/json\",\n      ...(l ? {\n        Cookie: l.join(\"; \")\n      } : {})\n    },\n    c = (await (await fetch(\"https://huggingface.co/api/whoami-v2\", {\n      headers: p\n    })).json()).name,\n    m = e.split(\"/\")[1],\n    w = {\n      repository: `${c}/${m}`\n    };\n  n && (w.private = !0);\n  let N;\n  try {\n    i || (N = await Pt(e, t));\n  } catch (g) {\n    throw Error(ue + g.message);\n  }\n  const f = i || N || \"cpu-basic\";\n  w.hardware = f;\n  try {\n    const g = await fetch(`https://huggingface.co/api/spaces/${e}/duplicate`, {\n      method: \"POST\",\n      headers: p,\n      body: JSON.stringify(w)\n    });\n    if (g.status === 409) try {\n      return await Y.connect(`${c}/${m}`, s);\n    } catch (q) {\n      throw console.error(\"Failed to connect Client instance:\", q), q;\n    } else if (g.status !== 200) throw new Error(g.statusText);\n    const H = await g.json();\n    return await It(`${c}/${m}`, r || 300, t), await Y.connect(Ut(H.url), s);\n  } catch (g) {\n    throw new Error(g);\n  }\n}\nfunction Ut(e) {\n  const s = /https:\\/\\/huggingface.co\\/spaces\\/([^/]+\\/[^/]+)/,\n    t = e.match(s);\n  if (t) return t[1];\n}\nclass qt extends TransformStream {\n  #e = \"\";\n  /** Constructs a new instance. */\n  constructor(s = {\n    allowCR: !1\n  }) {\n    super({\n      transform: (t, n) => {\n        for (t = this.#e + t;;) {\n          const i = t.indexOf(`\n`),\n            r = s.allowCR ? t.indexOf(\"\\r\") : -1;\n          if (r !== -1 && r !== t.length - 1 && (i === -1 || i - 1 > r)) {\n            n.enqueue(t.slice(0, r)), t = t.slice(r + 1);\n            continue;\n          }\n          if (i === -1) break;\n          const o = t[i - 1] === \"\\r\" ? i - 1 : i;\n          n.enqueue(t.slice(0, o)), t = t.slice(i + 1);\n        }\n        this.#e = t;\n      },\n      flush: t => {\n        if (this.#e === \"\") return;\n        const n = s.allowCR && this.#e.endsWith(\"\\r\") ? this.#e.slice(0, -1) : this.#e;\n        t.enqueue(n);\n      }\n    });\n  }\n}\nfunction zt(e) {\n  let s = new TextDecoderStream(),\n    t = new qt({\n      allowCR: !0\n    });\n  return e.pipeThrough(s).pipeThrough(t);\n}\nfunction Bt(e) {\n  let t = /[:]\\s*/.exec(e),\n    n = t && t.index;\n  if (n) return [e.substring(0, n), e.substring(n + t[0].length)];\n}\nfunction Oe(e, s, t) {\n  e.get(s) || e.set(s, t);\n}\nasync function* Ft(e, s) {\n  if (!e.body) return;\n  let t = zt(e.body),\n    n,\n    i = t.getReader(),\n    r;\n  for (;;) {\n    if (s && s.aborted) return i.cancel();\n    if (n = await i.read(), n.done) return;\n    if (!n.value) {\n      r && (yield r), r = void 0;\n      continue;\n    }\n    let [o, a] = Bt(n.value) || [];\n    o === \"data\" ? (r ||= {}, r[o] = r[o] ? r[o] + `\n` + a : a) : o === \"event\" ? (r ||= {}, r[o] = a) : o === \"id\" ? (r ||= {}, r[o] = String(+a) === a ? +a : a) : o === \"retry\" && (r ||= {}, r[o] = +a || void 0);\n  }\n}\nasync function Gt(e, s) {\n  let t = new Request(e, s);\n  Oe(t.headers, \"Accept\", \"text/event-stream\"), Oe(t.headers, \"Content-Type\", \"application/json\");\n  let n = await fetch(t);\n  if (!n.ok) throw n;\n  return Ft(n, t.signal);\n}\nasync function Mt() {\n  let {\n    event_callbacks: e,\n    unclosed_events: s,\n    pending_stream_messages: t,\n    stream_status: n,\n    config: i,\n    jwt: r\n  } = this;\n  const o = this;\n  if (!i) throw new Error(\"Could not resolve app config\");\n  n.open = !0;\n  let a = null,\n    u = new URLSearchParams({\n      session_hash: this.session_hash\n    }).toString(),\n    l = new URL(`${i.root}${this.api_prefix}/${Te}?${u}`);\n  if (r && l.searchParams.set(\"__sign\", r), a = this.stream(l), !a) {\n    console.warn(\"Cannot connect to SSE endpoint: \" + l.toString());\n    return;\n  }\n  a.onmessage = async function (p) {\n    let c = JSON.parse(p.data);\n    if (c.msg === \"close_stream\") {\n      de(n, o.abort_controller);\n      return;\n    }\n    const m = c.event_id;\n    if (!m) await Promise.all(Object.keys(e).map(w => e[w](c)));else if (e[m] && i) {\n      c.msg === \"process_completed\" && [\"sse\", \"sse_v1\", \"sse_v2\", \"sse_v2.1\", \"sse_v3\"].includes(i.protocol) && s.delete(m);\n      let w = e[m];\n      typeof window < \"u\" && typeof document < \"u\" ? setTimeout(w, 0, c) : w(c);\n    } else t[m] || (t[m] = []), t[m].push(c);\n  }, a.onerror = async function (p) {\n    console.error(p), await Promise.all(Object.keys(e).map(c => e[c]({\n      msg: \"broken_connection\",\n      message: M\n    })));\n  };\n}\nfunction de(e, s) {\n  e && (e.open = !1, s?.abort());\n}\nfunction Ht(e, s, t) {\n  !e[s] ? (e[s] = [], t.data.forEach((i, r) => {\n    e[s][r] = i;\n  })) : t.data.forEach((i, r) => {\n    let o = Jt(e[s][r], i);\n    e[s][r] = o, t.data[r] = o;\n  });\n}\nfunction Jt(e, s) {\n  return s.forEach(([t, n, i]) => {\n    e = Wt(e, n, t, i);\n  }), e;\n}\nfunction Wt(e, s, t, n) {\n  if (s.length === 0) {\n    if (t === \"replace\") return n;\n    if (t === \"append\") return e + n;\n    throw new Error(`Unsupported action: ${t}`);\n  }\n  let i = e;\n  for (let o = 0; o < s.length - 1; o++) i = i[s[o]];\n  const r = s[s.length - 1];\n  switch (t) {\n    case \"replace\":\n      i[r] = n;\n      break;\n    case \"append\":\n      i[r] += n;\n      break;\n    case \"add\":\n      Array.isArray(i) ? i.splice(Number(r), 0, n) : i[r] = n;\n      break;\n    case \"delete\":\n      Array.isArray(i) ? i.splice(Number(r), 1) : delete i[r];\n      break;\n    default:\n      throw new Error(`Unknown action: ${t}`);\n  }\n  return e;\n}\nfunction Zt(e, s = {}) {\n  const t = {\n    close: () => {\n      console.warn(\"Method not implemented.\");\n    },\n    onerror: null,\n    onmessage: null,\n    onopen: null,\n    readyState: 0,\n    url: e.toString(),\n    withCredentials: !1,\n    CONNECTING: 0,\n    OPEN: 1,\n    CLOSED: 2,\n    addEventListener: () => {\n      throw new Error(\"Method not implemented.\");\n    },\n    dispatchEvent: () => {\n      throw new Error(\"Method not implemented.\");\n    },\n    removeEventListener: () => {\n      throw new Error(\"Method not implemented.\");\n    }\n  };\n  return Gt(e, s).then(async n => {\n    t.readyState = t.OPEN;\n    try {\n      for await (const i of n) t.onmessage && t.onmessage(i);\n      t.readyState = t.CLOSED;\n    } catch (i) {\n      t.onerror && t.onerror(i), t.readyState = t.CLOSED;\n    }\n  }).catch(n => {\n    console.error(n), t.onerror && t.onerror(n), t.readyState = t.CLOSED;\n  }), t;\n}\nfunction Kt(e, s = {}, t, n, i, r) {\n  try {\n    let o = function (h) {\n        (i || ze[h.type]) && p(h);\n      },\n      a = function () {\n        for (Me = !0; F.length > 0;) F.shift()({\n          value: void 0,\n          done: !0\n        });\n      },\n      u = function (h) {\n        F.length > 0 ? F.shift()(h) : ie.push(h);\n      },\n      l = function (h) {\n        u(Vt(h)), a();\n      },\n      p = function (h) {\n        u({\n          value: h,\n          done: !1\n        });\n      },\n      c = function () {\n        return ie.length > 0 ? Promise.resolve(ie.shift()) : new Promise(h => F.push(h));\n      };\n    const {\n        token: m\n      } = this.options,\n      {\n        fetch: w,\n        app_reference: N,\n        config: f,\n        session_hash: g,\n        api_info: H,\n        api_map: q,\n        stream_status: X,\n        pending_stream_messages: ee,\n        pending_diff_streams: te,\n        event_callbacks: se,\n        unclosed_events: je,\n        post_data: ne,\n        options: J,\n        api_prefix: R\n      } = this,\n      he = r || {\n        \"x-gradio-user\": \"api\"\n      },\n      Ue = this;\n    if (!H) throw new Error(\"No API found\");\n    if (!f) throw new Error(\"Could not resolve app config\");\n    let {\n        fn_index: d,\n        endpoint_info: fe,\n        dependency: z\n      } = Yt(H, e, q, f),\n      qe = wt(s, fe),\n      j,\n      O = f.protocol ?? \"ws\";\n    if (O === \"ws\") throw new Error(\"WebSocket protocol is not supported in this version\");\n    let U = \"\",\n      Qt = () => U;\n    const _ = typeof e == \"number\" ? \"/predict\" : e;\n    let W,\n      b = null,\n      T = !1,\n      _e = {},\n      B = typeof window < \"u\" && typeof document < \"u\" ? new URLSearchParams(window.location.search).toString() : \"\";\n    const ze = J?.events?.reduce((h, k) => (h[k] = !0, h), {}) || {};\n    async function Be() {\n      let h = {},\n        k = {};\n      h = {\n        event_id: b\n      }, k = {\n        event_id: b,\n        session_hash: g,\n        fn_index: d\n      };\n      try {\n        if (!f) throw new Error(\"Could not resolve app config\");\n        \"event_id\" in k && (await w(`${f.root}${R}/${st}`, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          method: \"POST\",\n          body: JSON.stringify(k)\n        })), await w(`${f.root}${R}/${tt}`, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          method: \"POST\",\n          body: JSON.stringify(h)\n        });\n      } catch {\n        console.warn(\"The `/reset` endpoint could not be called. Subsequent endpoint results may be unreliable.\");\n      }\n    }\n    const Fe = async h => {\n      await this._resolve_heartbeat(h);\n    };\n    async function me(h) {\n      if (!f) return;\n      let k = h.render_id;\n      f.components = [...f.components.filter(v => v.props.rendered_in !== k), ...h.components], f.dependencies = [...f.dependencies.filter(v => v.rendered_in !== k), ...h.dependencies];\n      const Z = f.components.some(v => v.type === \"state\"),\n        y = f.dependencies.some(v => v.targets.some(L => L[1] === \"unload\"));\n      f.connect_heartbeat = Z || y, await Fe(f), o({\n        type: \"render\",\n        data: h,\n        endpoint: _,\n        fn_index: d\n      });\n    }\n    const Ge = this.handle_blob(f.root, qe, fe).then(async h => {\n      if (W = {\n        data: V(h, z, f.components, \"input\", !0) || [],\n        event_data: t,\n        fn_index: d,\n        trigger_id: n\n      }, Ot(d, f)) o({\n        type: \"status\",\n        endpoint: _,\n        stage: \"pending\",\n        queue: !1,\n        fn_index: d,\n        time: /* @__PURE__ */new Date()\n      }), ne(`${f.root}${R}/run${_.startsWith(\"/\") ? _ : `/${_}`}${B ? \"?\" + B : \"\"}`, {\n        ...W,\n        session_hash: g\n      }, he).then(async ([y, v]) => {\n        const L = y.data;\n        v == 200 ? (o({\n          type: \"data\",\n          endpoint: _,\n          fn_index: d,\n          data: V(L, z, f.components, \"output\", J.with_null_state),\n          time: /* @__PURE__ */new Date(),\n          event_data: t,\n          trigger_id: n\n        }), y.render_config && (await me(y.render_config)), o({\n          type: \"status\",\n          endpoint: _,\n          fn_index: d,\n          stage: \"complete\",\n          eta: y.average_duration,\n          queue: !1,\n          time: /* @__PURE__ */new Date()\n        })) : o({\n          type: \"status\",\n          stage: \"error\",\n          endpoint: _,\n          fn_index: d,\n          message: y.error,\n          queue: !1,\n          time: /* @__PURE__ */new Date()\n        });\n      }).catch(y => {\n        o({\n          type: \"status\",\n          stage: \"error\",\n          message: y.message,\n          endpoint: _,\n          fn_index: d,\n          queue: !1,\n          time: /* @__PURE__ */new Date()\n        });\n      });else if (O == \"sse\") {\n        o({\n          type: \"status\",\n          stage: \"pending\",\n          queue: !0,\n          endpoint: _,\n          fn_index: d,\n          time: /* @__PURE__ */new Date()\n        });\n        var Z = new URLSearchParams({\n          fn_index: d.toString(),\n          session_hash: g\n        }).toString();\n        let y = new URL(`${f.root}${R}/${Te}?${B ? B + \"&\" : \"\"}${Z}`);\n        if (this.jwt && y.searchParams.set(\"__sign\", this.jwt), j = this.stream(y), !j) return Promise.reject(new Error(\"Cannot connect to SSE endpoint: \" + y.toString()));\n        j.onmessage = async function (v) {\n          const L = JSON.parse(v.data),\n            {\n              type: P,\n              status: A,\n              data: x\n            } = Ee(L, _e[d]);\n          if (P === \"update\" && A && !T) o({\n            type: \"status\",\n            endpoint: _,\n            fn_index: d,\n            time: /* @__PURE__ */new Date(),\n            ...A\n          }), A.stage === \"error\" && (j?.close(), a());else if (P === \"data\") {\n            let [C, I] = await ne(`${f.root}${R}/queue/data`, {\n              ...W,\n              session_hash: g,\n              event_id: b\n            });\n            I !== 200 && (o({\n              type: \"status\",\n              stage: \"error\",\n              message: M,\n              queue: !0,\n              endpoint: _,\n              fn_index: d,\n              time: /* @__PURE__ */new Date()\n            }), j?.close(), a());\n          } else P === \"complete\" ? T = A : P === \"log\" ? o({\n            type: \"log\",\n            title: x.title,\n            log: x.log,\n            level: x.level,\n            endpoint: _,\n            duration: x.duration,\n            visible: x.visible,\n            fn_index: d\n          }) : (P === \"generating\" || P === \"streaming\") && o({\n            type: \"status\",\n            time: /* @__PURE__ */new Date(),\n            ...A,\n            stage: A?.stage,\n            queue: !0,\n            endpoint: _,\n            fn_index: d\n          });\n          x && (o({\n            type: \"data\",\n            time: /* @__PURE__ */new Date(),\n            data: V(x.data, z, f.components, \"output\", J.with_null_state),\n            endpoint: _,\n            fn_index: d,\n            event_data: t,\n            trigger_id: n\n          }), T && (o({\n            type: \"status\",\n            time: /* @__PURE__ */new Date(),\n            ...T,\n            stage: A?.stage,\n            queue: !0,\n            endpoint: _,\n            fn_index: d\n          }), j?.close(), a()));\n        };\n      } else if (O == \"sse_v1\" || O == \"sse_v2\" || O == \"sse_v2.1\" || O == \"sse_v3\") {\n        o({\n          type: \"status\",\n          stage: \"pending\",\n          queue: !0,\n          endpoint: _,\n          fn_index: d,\n          time: /* @__PURE__ */new Date()\n        });\n        let y = \"\";\n        typeof window < \"u\" && typeof document < \"u\" && (y = window?.location?.hostname);\n        const L = y.includes(\".dev.\") ? `https://moon-${y.split(\".\")[1]}.dev.spaces.huggingface.tech` : \"https://huggingface.co\";\n        return (typeof window < \"u\" && typeof document < \"u\" && window.parent != window && window.supports_zerogpu_headers ? Tt(\"zerogpu-headers\", L) : Promise.resolve(null)).then(C => {\n          const I = {\n            ...he,\n            ...(C || {})\n          };\n          return ne(`${f.root}${R}/${Ze}?${B}`, {\n            ...W,\n            session_hash: g\n          }, I);\n        }).then(async ([C, I]) => {\n          if (C.event_id && (U = C.event_id), I === 503) o({\n            type: \"status\",\n            stage: \"error\",\n            message: Ae,\n            queue: !0,\n            endpoint: _,\n            fn_index: d,\n            time: /* @__PURE__ */new Date(),\n            visible: !0\n          });else if (I === 422) o({\n            type: \"status\",\n            stage: \"error\",\n            message: C.detail,\n            queue: !0,\n            endpoint: _,\n            fn_index: d,\n            code: \"validation_error\",\n            time: /* @__PURE__ */new Date(),\n            visible: !0\n          }), a();else if (I !== 200) o({\n            type: \"status\",\n            stage: \"error\",\n            broken: !1,\n            message: C.detail,\n            queue: !0,\n            endpoint: _,\n            fn_index: d,\n            time: /* @__PURE__ */new Date(),\n            visible: !0\n          });else {\n            b = C.event_id, U = b;\n            let we = async function (oe) {\n              try {\n                const {\n                  type: E,\n                  status: S,\n                  data: $,\n                  original_msg: He\n                } = Ee(oe, _e[d]);\n                if (E == \"heartbeat\") return;\n                if (E === \"update\" && S && !T) o({\n                  type: \"status\",\n                  endpoint: _,\n                  fn_index: d,\n                  time: /* @__PURE__ */new Date(),\n                  original_msg: He,\n                  ...S\n                });else if (E === \"complete\") T = S;else if (E == \"unexpected_error\" || E == \"broken_connection\") {\n                  console.error(\"Unexpected error\", S?.message);\n                  const Je = E === \"broken_connection\";\n                  o({\n                    type: \"status\",\n                    stage: \"error\",\n                    message: S?.message || \"An Unexpected Error Occurred!\",\n                    queue: !0,\n                    endpoint: _,\n                    broken: Je,\n                    session_not_found: S?.session_not_found,\n                    fn_index: d,\n                    time: /* @__PURE__ */new Date()\n                  });\n                } else if (E === \"log\") {\n                  o({\n                    type: \"log\",\n                    title: $.title,\n                    log: $.log,\n                    level: $.level,\n                    endpoint: _,\n                    duration: $.duration,\n                    visible: $.visible,\n                    fn_index: d\n                  });\n                  return;\n                } else (E === \"generating\" || E === \"streaming\") && (o({\n                  type: \"status\",\n                  time: /* @__PURE__ */new Date(),\n                  ...S,\n                  stage: S?.stage,\n                  queue: !0,\n                  endpoint: _,\n                  fn_index: d\n                }), $ && z.connection !== \"stream\" && [\"sse_v2\", \"sse_v2.1\", \"sse_v3\"].includes(O) && Ht(te, b, $));\n                $ && (o({\n                  type: \"data\",\n                  time: /* @__PURE__ */new Date(),\n                  data: V($.data, z, f.components, \"output\", J.with_null_state),\n                  endpoint: _,\n                  fn_index: d\n                }), $.render_config && (await me($.render_config)), T && (o({\n                  type: \"status\",\n                  time: /* @__PURE__ */new Date(),\n                  ...T,\n                  stage: S?.stage,\n                  queue: !0,\n                  endpoint: _,\n                  fn_index: d\n                }), a())), (S?.stage === \"complete\" || S?.stage === \"error\") && (se[b] && delete se[b], b in te && delete te[b]);\n              } catch (E) {\n                console.error(\"Unexpected client exception\", E), o({\n                  type: \"status\",\n                  stage: \"error\",\n                  message: \"An Unexpected Error Occurred!\",\n                  queue: !0,\n                  endpoint: _,\n                  fn_index: d,\n                  time: /* @__PURE__ */new Date()\n                }), [\"sse_v2\", \"sse_v2.1\", \"sse_v3\"].includes(O) && (de(X, Ue.abort_controller), X.open = !1, a());\n              }\n            };\n            b in ee && (ee[b].forEach(oe => we(oe)), delete ee[b]), se[b] = we, je.add(b), X.open || (await this.open_stream());\n          }\n        });\n      }\n    });\n    let Me = !1;\n    const ie = [],\n      F = [],\n      ge = {\n        [Symbol.asyncIterator]: () => ge,\n        next: c,\n        throw: async h => (l(h), c()),\n        return: async () => (a(), {\n          value: void 0,\n          done: !0\n        }),\n        cancel: Be,\n        send_chunk: h => {\n          this.post_data(`${f.root}${R}/stream/${U}`, {\n            ...h,\n            session_hash: this.session_hash\n          });\n        },\n        close_stream: () => {\n          this.post_data(`${f.root}${R}/stream/${U}/close`, {}), a();\n        },\n        event_id: () => U,\n        wait_for_id: async () => (await Ge, b)\n      };\n    return ge;\n  } catch (o) {\n    throw console.error(\"Submit function encountered an error:\", o), o;\n  }\n}\nfunction Vt(e) {\n  return {\n    then: (s, t) => t(e)\n  };\n}\nfunction Yt(e, s, t, n) {\n  let i, r, o;\n  if (typeof s == \"number\") i = s, r = e.unnamed_endpoints[i], o = n.dependencies.find(a => a.id == s);else {\n    const a = s.replace(/^\\//, \"\");\n    i = t[a], r = e.named_endpoints[s.trim()], o = n.dependencies.find(u => u.id == t[a]);\n  }\n  if (typeof i != \"number\") throw new Error(\"There is no endpoint matching that name of fn_index matching that number.\");\n  return {\n    fn_index: i,\n    endpoint_info: r,\n    dependency: o\n  };\n}\nclass Y {\n  app_reference;\n  options;\n  deep_link = null;\n  config;\n  api_prefix = \"\";\n  api_info;\n  api_map = {};\n  session_hash = Math.random().toString(36).substring(2);\n  jwt = !1;\n  last_status = {};\n  cookies = null;\n  // streaming\n  stream_status = {\n    open: !1\n  };\n  closed = !1;\n  pending_stream_messages = {};\n  pending_diff_streams = {};\n  event_callbacks = {};\n  unclosed_events = /* @__PURE__ */new Set();\n  heartbeat_event = null;\n  abort_controller = null;\n  stream_instance = null;\n  current_payload;\n  get_url_config(s = null) {\n    if (!this.config) throw new Error(D);\n    s === null && (s = window.location.href);\n    const t = o => o.replace(/^\\/+|\\/+$/g, \"\");\n    let n = t(new URL(this.config.root).pathname),\n      i = t(new URL(s).pathname),\n      r;\n    return i.startsWith(n) ? r = t(i.substring(n.length)) : r = \"\", this.get_page_config(r);\n  }\n  get_page_config(s) {\n    if (!this.config) throw new Error(D);\n    let t = this.config;\n    return s in t.page || (s = \"\"), {\n      ...t,\n      current_page: s,\n      layout: t.page[s].layout,\n      components: t.components.filter(n => t.page[s].components.includes(n.id)),\n      dependencies: this.config.dependencies.filter(n => t.page[s].dependencies.includes(n.id))\n    };\n  }\n  fetch(s, t) {\n    const n = new Headers(t?.headers || {});\n    return this && this.cookies && n.append(\"Cookie\", this.cookies), this && this.options.headers && new Headers(this.options.headers).forEach((r, o) => {\n      n.append(o, r);\n    }), fetch(s, {\n      ...t,\n      headers: n\n    });\n  }\n  stream(s) {\n    const t = new Headers();\n    return this && this.cookies && t.append(\"Cookie\", this.cookies), this && this.options.headers && new Headers(this.options.headers).forEach((i, r) => {\n      t.append(r, i);\n    }), this && this.options.token && t.append(\"Authorization\", `Bearer ${this.options.token}`), this.abort_controller = new AbortController(), this.stream_instance = Zt(s.toString(), {\n      credentials: \"include\",\n      headers: t,\n      signal: this.abort_controller.signal\n    }), this.stream_instance;\n  }\n  view_api;\n  upload_files;\n  upload;\n  handle_blob;\n  post_data;\n  submit;\n  predict;\n  open_stream;\n  resolve_config;\n  resolve_cookies;\n  constructor(s, t = {\n    events: [\"data\"]\n  }) {\n    this.app_reference = s, this.deep_link = t.query_params?.deep_link || null, t.events || (t.events = [\"data\"]), this.options = t, this.current_payload = {}, t.cookies && (this.cookies = t.cookies), this.view_api = yt.bind(this), this.upload_files = bt.bind(this), this.handle_blob = At.bind(this), this.post_data = Dt.bind(this), this.submit = Kt.bind(this), this.predict = Nt.bind(this), this.open_stream = Mt.bind(this), this.resolve_config = dt.bind(this), this.resolve_cookies = ht.bind(this), this.upload = kt.bind(this), this.fetch = this.fetch.bind(this), this.handle_space_success = this.handle_space_success.bind(this), this.stream = this.stream.bind(this);\n  }\n  async init() {\n    this.options.auth && (await this.resolve_cookies()), await this._resolve_config().then(({\n      config: s\n    }) => this._resolve_heartbeat(s)), this.api_info = await this.view_api(), this.api_map = pt(this.config?.dependencies || []);\n  }\n  async _resolve_heartbeat(s) {\n    if (s && (this.config = s, this.api_prefix = s.api_prefix || \"\", this.config && this.config.connect_heartbeat && this.config.space_id && this.options.token && (this.jwt = await be(this.config.space_id, this.options.token, this.cookies))), s.space_id && this.options.token && (this.jwt = await be(s.space_id, this.options.token)), this.config && this.config.connect_heartbeat) {\n      const t = new URL(`${this.config.root}${this.api_prefix}/${Xe}/${this.session_hash}`);\n      this.jwt && t.searchParams.set(\"__sign\", this.jwt), this.heartbeat_event || (this.heartbeat_event = this.stream(t));\n    }\n  }\n  static async connect(s, t = {\n    events: [\"data\"]\n  }) {\n    const n = new this(s, t);\n    return t.session_hash && (n.session_hash = t.session_hash), await n.init(), n;\n  }\n  async reconnect() {\n    const s = new URL(`${this.config.root}${this.api_prefix}/${nt}`);\n    let t;\n    try {\n      const n = await this.fetch(s);\n      if (!n.ok) throw new Error();\n      t = (await n.json()).app_id;\n    } catch {\n      return \"broken\";\n    }\n    return t !== this.config.app_id ? \"changed\" : \"connected\";\n  }\n  close() {\n    this.closed = !0, de(this.stream_status, this.abort_controller);\n  }\n  set_current_payload(s) {\n    this.current_payload = s;\n  }\n  static async duplicate(s, t = {\n    events: [\"data\"]\n  }) {\n    return jt(s, t);\n  }\n  async _resolve_config() {\n    const {\n        http_protocol: s,\n        host: t,\n        space_id: n\n      } = await pe(this.app_reference, this.options.token),\n      {\n        status_callback: i\n      } = this.options;\n    n && i && (await Ie(n, i));\n    let r;\n    try {\n      let o = `${s}//${t}`;\n      if (r = await this.resolve_config(o), !r) throw new Error(D);\n      return this.config_success(r);\n    } catch (o) {\n      if (n && i) G(n, le.test(n) ? \"space_name\" : \"subdomain\", this.handle_space_success);else throw i && i({\n        status: \"error\",\n        message: \"Could not load this space.\",\n        load_status: \"error\",\n        detail: \"NOT_FOUND\"\n      }), Error(o);\n    }\n  }\n  async config_success(s) {\n    if (this.config = s, this.api_prefix = s.api_prefix || \"\", this.config.auth_required) return this.prepare_return_obj();\n    try {\n      this.api_info = await this.view_api();\n    } catch (t) {\n      console.error(ot + t.message);\n    }\n    return this.prepare_return_obj();\n  }\n  async handle_space_success(s) {\n    if (!this) throw new Error(D);\n    const {\n      status_callback: t\n    } = this.options;\n    if (t && t(s), s.status === \"running\") try {\n      if (this.config = await this._resolve_config(), this.api_prefix = this?.config?.api_prefix || \"\", !this.config) throw new Error(D);\n      return await this.config_success(this.config);\n    } catch (n) {\n      throw t && t({\n        status: \"error\",\n        message: \"Could not load this space.\",\n        load_status: \"error\",\n        detail: \"NOT_FOUND\"\n      }), n;\n    }\n  }\n  async component_server(s, t, n) {\n    if (!this.config) throw new Error(D);\n    const i = {},\n      {\n        token: r\n      } = this.options,\n      {\n        session_hash: o\n      } = this;\n    r && (i.Authorization = `Bearer ${this.options.token}`);\n    let a,\n      u = this.config.components.find(p => p.id === s);\n    u?.props?.root_url ? a = u.props.root_url : a = this.config.root;\n    let l;\n    if (\"binary\" in n) {\n      l = new FormData();\n      for (const p in n.data) p !== \"binary\" && l.append(p, n.data[p]);\n      l.set(\"component_id\", s.toString()), l.set(\"fn_name\", t), l.set(\"session_hash\", o);\n    } else l = JSON.stringify({\n      data: n,\n      component_id: s,\n      fn_name: t,\n      session_hash: o\n    }), i[\"Content-Type\"] = \"application/json\";\n    r && (i.Authorization = `Bearer ${r}`);\n    try {\n      const p = await this.fetch(`${a}${this.api_prefix}/${et}/`, {\n        method: \"POST\",\n        body: l,\n        headers: i,\n        credentials: \"include\"\n      });\n      if (!p.ok) throw new Error(\"Could not connect to component server: \" + p.statusText);\n      return await p.json();\n    } catch (p) {\n      console.warn(p);\n    }\n  }\n  set_cookies(s) {\n    this.cookies = Ne(s).join(\"; \");\n  }\n  prepare_return_obj() {\n    return {\n      config: this.config,\n      predict: this.predict,\n      submit: this.submit,\n      view_api: this.view_api,\n      component_server: this.component_server\n    };\n  }\n}\nasync function ts(e, s = {\n  events: [\"data\"]\n}) {\n  return await Y.connect(e, s);\n}\nasync function ss(e, s) {\n  return await Y.duplicate(e, s);\n}\nexport { Y as Client, Q as FileData, ct as MISSING_CREDENTIALS_MSG, ts as client, ss as duplicate, es as handle_file, Nt as predict, Xt as prepare_files, Kt as submit, kt as upload, bt as upload_files };","map":{"version":3,"names":["We","Te","Ze","ye","Ke","K","Ve","Ye","Qe","Xe","et","tt","st","nt","Ae","M","D","it","ot","ue","rt","at","xe","ct","ut","Ce","lt","be","e","s","t","fetch","headers","Authorization","Cookie","json","token","pt","forEach","api_name","id","n","dt","options","window","gradio_config","location","origin","current_page","substring","lastIndexOf","dev_mode","BUILD_MODE","ae","deep_link","credentials","i","ve","auth","root","Error","status","detail","auth_message","dependencies","ht","http_protocol","host","pe","app_reference","De","set_cookies","message","r","FormData","append","o","a","method","body","get","re","startsWith","protocol","pathname","URL","ws_protocol","Ne","split","push","trim","le","ft","replace","test","space_id","reduce","toString","_t","named_endpoints","unnamed_endpoints","Object","keys","entries","parameters","returns","u","find","c","l","types","generator","cancel","inputs","length","m","map","components","w","type","N","component","example","parameter_default","parameter_has_default","parameter_name","hidden","splice","console","error","p","description","gt","mt","serializer","Ee","msg","queue","stage","code","success","session_not_found","size","queue_size","position","rank","eta","rank_eta","progress_data","data","output","average_duration","changed_state_ids","time_limit","title","visible","duration","original_msg","wt","Array","isArray","warn","hasOwnProperty","some","yt","api_info","config","gradio_api_info","api_prefix","ok","api","api_map","bt","slice","text","files","vt","radix","unit","Et","St","Se","si","iec","jedec","$t","Math","abs","toFixed","kt","blob","filter","name","join","Promise","all","upload_files","then","Q","path","url","Xt","orig_name","mime_type","is_stream","alt_text","b64","meta","_type","constructor","Le","command","fileData","Rt","process","versions","node","$e","shift","ce","String","concat","globalThis","Buffer","Blob","Ot","enable_queue","Tt","MessageChannel","port1","onmessage","close","parent","postMessage","port2","es","pop","orig_path","File","V","outputs","At","xt","file_url","root_url","Pe","Ct","resolve","cwd","readFile","Dt","JSON","stringify","Nt","submit","G","load_status","runtime","setTimeout","discussions_enabled","ke","Ie","Lt","Pt","hardware","current","It","seconds","Re","jt","private","timeout","includes","g","repository","f","Y","connect","q","statusText","H","Ut","match","qt","TransformStream","allowCR","transform","indexOf","enqueue","flush","endsWith","zt","TextDecoderStream","pipeThrough","Bt","exec","index","Oe","set","Ft","getReader","aborted","read","done","value","Gt","Request","signal","Mt","event_callbacks","unclosed_events","pending_stream_messages","stream_status","jwt","open","URLSearchParams","session_hash","searchParams","stream","parse","de","abort_controller","event_id","delete","document","onerror","abort","Ht","Jt","Wt","Number","Zt","onopen","readyState","withCredentials","CONNECTING","OPEN","CLOSED","addEventListener","dispatchEvent","removeEventListener","catch","Kt","h","ze","Me","F","ie","Vt","X","ee","pending_diff_streams","te","se","je","post_data","ne","J","R","he","Ue","fn_index","d","endpoint_info","fe","dependency","z","Yt","qe","j","O","U","Qt","_","W","b","T","_e","B","search","events","k","Be","Fe","_resolve_heartbeat","me","render_id","v","props","rendered_in","Z","y","targets","L","connect_heartbeat","endpoint","Ge","handle_blob","event_data","trigger_id","time","Date","with_null_state","render_config","reject","P","A","x","C","I","log","level","hostname","supports_zerogpu_headers","broken","we","oe","E","S","$","He","Je","connection","add","open_stream","ge","Symbol","asyncIterator","next","throw","return","send_chunk","close_stream","wait_for_id","random","last_status","cookies","closed","Set","heartbeat_event","stream_instance","current_payload","get_url_config","href","get_page_config","page","layout","Headers","AbortController","view_api","upload","predict","resolve_config","resolve_cookies","query_params","bind","handle_space_success","init","_resolve_config","reconnect","app_id","set_current_payload","duplicate","status_callback","config_success","auth_required","prepare_return_obj","component_server","component_id","fn_name","ts","ss","Client","FileData","MISSING_CREDENTIALS_MSG","client","handle_file","prepare_files"],"sources":["C:/Users/toecm/Documents/PureConvo/pure-app/node_modules/@gradio/client/dist/browser.js"],"sourcesContent":["const We = \"host\", Te = \"queue/data\", Ze = \"queue/join\", ye = \"upload\", Ke = \"login\", K = \"config\", Ve = \"info\", Ye = \"runtime\", Qe = \"sleeptime\", Xe = \"heartbeat\", et = \"component_server\", tt = \"reset\", st = \"cancel\", nt = \"app_id\", Ae = \"This application is currently busy. Please try again. \", M = \"Connection errored out. \", D = \"Could not resolve app config. \", it = \"Could not get space status. \", ot = \"Could not get API info. \", ue = \"Space metadata could not be loaded. \", rt = \"Invalid URL. A full URL path is required.\", at = \"Not authorized to access this space. \", xe = \"Invalid credentials. Could not login. \", ct = \"Login credentials are required to access this space.\", ut = \"File system access is only available in Node.js environments\", Ce = \"Root URL not found in client config\", lt = \"Error uploading file\";\nasync function be(e, s, t) {\n  try {\n    return (await (await fetch(`https://huggingface.co/api/spaces/${e}/jwt`, {\n      headers: {\n        Authorization: `Bearer ${s}`,\n        ...t ? { Cookie: t } : {}\n      }\n    })).json()).token || !1;\n  } catch {\n    return !1;\n  }\n}\nfunction pt(e) {\n  let s = {};\n  return e.forEach(({ api_name: t, id: n }) => {\n    t && (s[t] = n);\n  }), s;\n}\nasync function dt(e) {\n  const s = this.options.token ? { Authorization: `Bearer ${this.options.token}` } : {};\n  if (s[\"Content-Type\"] = \"application/json\", typeof window < \"u\" && window.gradio_config && location.origin !== \"http://localhost:9876\") {\n    if (window.gradio_config.current_page && (e = e.substring(0, e.lastIndexOf(\"/\"))), window.gradio_config.dev_mode || typeof window < \"u\" && window?.BUILD_MODE === \"dev\") {\n      let t = ae(\n        e,\n        this.deep_link ? K + \"?deep_link=\" + this.deep_link : K\n      );\n      const n = await this.fetch(t, {\n        headers: s,\n        credentials: \"include\"\n      }), i = await ve(n, !!this.options.auth);\n      i.root = e || i.root, window.gradio_config = {\n        ...i,\n        current_page: window.gradio_config.current_page\n      };\n    }\n    return { ...window.gradio_config };\n  } else if (e) {\n    let t = ae(\n      e,\n      this.deep_link ? K + \"?deep_link=\" + this.deep_link : K\n    );\n    const n = await this.fetch(t, {\n      headers: s,\n      credentials: \"include\"\n    }), i = await ve(n, !!this.options.auth);\n    return i.root || (i.root = e), i;\n  }\n  throw new Error(D);\n}\nasync function ve(e, s) {\n  if (e?.status === 401 && !s) {\n    const n = (await e.json())?.detail?.auth_message;\n    throw new Error(n || ct);\n  } else if (e?.status === 401 && s)\n    throw new Error(xe);\n  if (e?.status === 200) {\n    let t = await e.json();\n    return t.dependencies?.forEach((n, i) => {\n      n.id === void 0 && (n.id = i);\n    }), t;\n  } else if (e?.status === 401)\n    throw new Error(at);\n  throw new Error(D);\n}\nasync function ht() {\n  const { http_protocol: e, host: s } = await pe(\n    this.app_reference,\n    this.options.token\n  );\n  try {\n    if (this.options.auth) {\n      const t = await De(\n        e,\n        s,\n        this.options.auth,\n        this.fetch,\n        this.options.token\n      );\n      t && this.set_cookies(t);\n    }\n  } catch (t) {\n    throw Error(t.message);\n  }\n}\nasync function De(e, s, t, n, i) {\n  const r = new FormData();\n  r.append(\"username\", t?.[0]), r.append(\"password\", t?.[1]);\n  let o = {};\n  i && (o.Authorization = `Bearer ${i}`);\n  const a = await n(`${e}//${s}/${Ke}`, {\n    headers: o,\n    method: \"POST\",\n    body: r,\n    credentials: \"include\"\n  });\n  if (a.status === 200)\n    return a.headers.get(\"set-cookie\");\n  throw a.status === 401 ? new Error(xe) : new Error(ue);\n}\nfunction re(e) {\n  if (e.startsWith(\"http\")) {\n    const { protocol: s, host: t, pathname: n } = new URL(e);\n    return {\n      ws_protocol: s === \"https:\" ? \"wss\" : \"ws\",\n      http_protocol: s,\n      host: t + (n !== \"/\" ? n : \"\")\n    };\n  }\n  return {\n    ws_protocol: \"wss\",\n    http_protocol: \"https:\",\n    host: new URL(e).host\n  };\n}\nconst Ne = (e) => {\n  let s = [];\n  return e.split(/,(?=\\s*[^\\s=;]+=[^\\s=;]+)/).forEach((n) => {\n    const [i, r] = n.split(\";\")[0].split(\"=\");\n    i && r && s.push(`${i.trim()}=${r.trim()}`);\n  }), s;\n}, le = /^[a-zA-Z0-9_\\-\\.]+\\/[a-zA-Z0-9_\\-\\.]+$/, ft = /.*hf\\.space\\/{0,1}.*$/;\nasync function pe(e, s) {\n  const t = {};\n  s && (t.Authorization = `Bearer ${s}`);\n  const n = e.trim().replace(/\\/$/, \"\");\n  if (le.test(n))\n    try {\n      const r = (await (await fetch(\n        `https://huggingface.co/api/spaces/${n}/${We}`,\n        { headers: t }\n      )).json()).host;\n      return {\n        space_id: e,\n        ...re(r)\n      };\n    } catch {\n      throw new Error(ue);\n    }\n  if (ft.test(n)) {\n    const { ws_protocol: i, http_protocol: r, host: o } = re(n);\n    return {\n      space_id: o.split(\"/\")[0].replace(\".hf.space\", \"\"),\n      ws_protocol: i,\n      http_protocol: r,\n      host: o\n    };\n  }\n  return {\n    space_id: !1,\n    ...re(n)\n  };\n}\nconst ae = (...e) => {\n  try {\n    return e.reduce((s, t) => (s = s.replace(/\\/+$/, \"\"), t = t.replace(/^\\/+/, \"\"), new URL(t, s + \"/\").toString()));\n  } catch {\n    throw new Error(rt);\n  }\n};\nfunction _t(e, s, t) {\n  const n = {\n    named_endpoints: {},\n    unnamed_endpoints: {}\n  };\n  return Object.keys(e).forEach((i) => {\n    (i === \"named_endpoints\" || i === \"unnamed_endpoints\") && (n[i] = {}, Object.entries(e[i]).forEach(\n      ([r, { parameters: o, returns: a }]) => {\n        const u = s.dependencies.find(\n          (c) => c.api_name === r || c.api_name === r.replace(\"/\", \"\")\n        )?.id || t[r.replace(\"/\", \"\")] || -1, l = u !== -1 ? s.dependencies.find((c) => c.id == u)?.types : { generator: !1, cancel: !1 };\n        if (u !== -1 && s.dependencies.find((c) => c.id == u)?.inputs?.length !== o.length) {\n          const c = s.dependencies.find((m) => m.id == u).inputs.map(\n            (m) => s.components.find((w) => w.id === m)?.type\n          );\n          try {\n            c.forEach((m, w) => {\n              if (m === \"state\") {\n                const N = {\n                  component: \"state\",\n                  example: null,\n                  parameter_default: null,\n                  parameter_has_default: !0,\n                  parameter_name: null,\n                  hidden: !0\n                };\n                o.splice(w, 0, N);\n              }\n            });\n          } catch (m) {\n            console.error(m);\n          }\n        }\n        const p = (c, m, w, N) => ({\n          ...c,\n          description: gt(c?.type, w),\n          type: mt(c?.type, m, w, N) || \"\"\n        });\n        n[i][r] = {\n          parameters: o.map(\n            (c) => p(c, c?.component, c?.serializer, \"parameter\")\n          ),\n          returns: a.map(\n            (c) => p(c, c?.component, c?.serializer, \"return\")\n          ),\n          type: l\n        };\n      }\n    ));\n  }), n;\n}\nfunction mt(e, s, t, n) {\n  if (s === \"Api\") return e.type;\n  switch (e?.type) {\n    case \"string\":\n      return \"string\";\n    case \"boolean\":\n      return \"boolean\";\n    case \"number\":\n      return \"number\";\n  }\n  if (t === \"JSONSerializable\" || t === \"StringSerializable\")\n    return \"any\";\n  if (t === \"ListStringSerializable\")\n    return \"string[]\";\n  if (s === \"Image\")\n    return n === \"parameter\" ? \"Blob | File | Buffer\" : \"string\";\n  if (t === \"FileSerializable\")\n    return e?.type === \"array\" ? n === \"parameter\" ? \"(Blob | File | Buffer)[]\" : \"{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}[]\" : n === \"parameter\" ? \"Blob | File | Buffer\" : \"{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}\";\n  if (t === \"GallerySerializable\")\n    return n === \"parameter\" ? \"[(Blob | File | Buffer), (string | null)][]\" : \"[{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}, (string | null))][]\";\n}\nfunction gt(e, s) {\n  return s === \"GallerySerializable\" ? \"array of [file, label] tuples\" : s === \"ListStringSerializable\" ? \"array of strings\" : s === \"FileSerializable\" ? \"array of files or single file\" : e?.description;\n}\nfunction Ee(e, s) {\n  switch (e.msg) {\n    case \"send_data\":\n      return { type: \"data\" };\n    case \"send_hash\":\n      return { type: \"hash\" };\n    case \"queue_full\":\n      return {\n        type: \"update\",\n        status: {\n          queue: !0,\n          message: Ae,\n          stage: \"error\",\n          code: e.code,\n          success: e.success\n        }\n      };\n    case \"heartbeat\":\n      return {\n        type: \"heartbeat\"\n      };\n    case \"unexpected_error\":\n      return {\n        type: \"unexpected_error\",\n        status: {\n          queue: !0,\n          message: e.message,\n          session_not_found: e.session_not_found,\n          stage: \"error\",\n          success: !1\n        }\n      };\n    case \"broken_connection\":\n      return {\n        type: \"broken_connection\",\n        status: {\n          queue: !0,\n          message: e.message,\n          stage: \"error\",\n          success: !1\n        }\n      };\n    case \"estimation\":\n      return {\n        type: \"update\",\n        status: {\n          queue: !0,\n          stage: s || \"pending\",\n          code: e.code,\n          size: e.queue_size,\n          position: e.rank,\n          eta: e.rank_eta,\n          success: e.success\n        }\n      };\n    case \"progress\":\n      return {\n        type: \"update\",\n        status: {\n          queue: !0,\n          stage: \"pending\",\n          code: e.code,\n          progress_data: e.progress_data,\n          success: e.success\n        }\n      };\n    case \"log\":\n      return { type: \"log\", data: e };\n    case \"process_generating\":\n      return {\n        type: \"generating\",\n        status: {\n          queue: !0,\n          message: e.success ? null : e.output.error,\n          stage: e.success ? \"generating\" : \"error\",\n          code: e.code,\n          progress_data: e.progress_data,\n          eta: e.average_duration,\n          changed_state_ids: e.success ? e.output.changed_state_ids : void 0\n        },\n        data: e.success ? e.output : null\n      };\n    case \"process_streaming\":\n      return {\n        type: \"streaming\",\n        status: {\n          queue: !0,\n          message: e.output.error,\n          stage: \"streaming\",\n          time_limit: e.time_limit,\n          code: e.code,\n          progress_data: e.progress_data,\n          eta: e.eta\n        },\n        data: e.output\n      };\n    case \"process_completed\":\n      return \"error\" in e.output ? {\n        type: \"update\",\n        status: {\n          queue: !0,\n          title: e.output.title ?? \"Error\",\n          message: e.output.error ?? \"An error occurred\",\n          visible: e.output.visible,\n          duration: e.output.duration,\n          stage: \"error\",\n          code: e.code,\n          success: e.success\n        }\n      } : {\n        type: \"complete\",\n        status: {\n          queue: !0,\n          message: e.success ? void 0 : e.output.error,\n          stage: e.success ? \"complete\" : \"error\",\n          code: e.code,\n          progress_data: e.progress_data,\n          changed_state_ids: e.success ? e.output.changed_state_ids : void 0\n        },\n        data: e.success ? e.output : null\n      };\n    case \"process_starts\":\n      return {\n        type: \"update\",\n        status: {\n          queue: !0,\n          stage: \"pending\",\n          code: e.code,\n          size: e.rank,\n          position: 0,\n          success: e.success,\n          eta: e.eta\n        },\n        original_msg: \"process_starts\"\n      };\n  }\n  return { type: \"none\", status: { stage: \"error\", queue: !0 } };\n}\nconst wt = (e = [], s) => {\n  const t = s ? s.parameters : [];\n  if (Array.isArray(e))\n    return s && t.length > 0 && e.length > t.length && console.warn(\"Too many arguments provided for the endpoint.\"), e;\n  const n = [], i = Object.keys(e);\n  return t.forEach((r, o) => {\n    if (e.hasOwnProperty(r.parameter_name))\n      n[o] = e[r.parameter_name];\n    else if (r.parameter_has_default)\n      n[o] = r.parameter_default;\n    else\n      throw new Error(\n        `No value provided for required parameter: ${r.parameter_name}`\n      );\n  }), i.forEach((r) => {\n    if (!t.some((o) => o.parameter_name === r))\n      throw new Error(\n        `Parameter \\`${r}\\` is not a valid keyword argument. Please refer to the API for usage.`\n      );\n  }), n.forEach((r, o) => {\n    if (r === void 0 && !t[o].parameter_has_default)\n      throw new Error(\n        `No value provided for required parameter: ${t[o].parameter_name}`\n      );\n  }), n;\n};\nasync function yt() {\n  if (this.api_info) return this.api_info;\n  const { token: e } = this.options, { config: s } = this, t = { \"Content-Type\": \"application/json\" };\n  if (e && (t.Authorization = `Bearer ${e}`), !!s)\n    try {\n      let n, i;\n      if (typeof window < \"u\" && window.gradio_api_info)\n        i = window.gradio_api_info;\n      else {\n        const r = ae(s.root, this.api_prefix, Ve);\n        if (n = await this.fetch(r, {\n          headers: t,\n          credentials: \"include\"\n        }), !n.ok)\n          throw new Error(M);\n        i = await n.json();\n      }\n      return \"api\" in i && (i = i.api), i.named_endpoints[\"/predict\"] && !i.unnamed_endpoints[0] && (i.unnamed_endpoints[0] = i.named_endpoints[\"/predict\"]), _t(i, s, this.api_map);\n    } catch (n) {\n      throw new Error(\"Could not get API info. \" + n.message);\n    }\n}\nasync function bt(e, s, t) {\n  const n = {};\n  this?.options?.token && (n.Authorization = `Bearer ${this.options.token}`);\n  const i = 1e3, r = [];\n  let o;\n  for (let a = 0; a < s.length; a += i) {\n    const u = s.slice(a, a + i), l = new FormData();\n    u.forEach((c) => {\n      l.append(\"files\", c);\n    });\n    try {\n      const c = t ? `${e}${this.api_prefix}/${ye}?upload_id=${t}` : `${e}${this.api_prefix}/${ye}`;\n      o = await this.fetch(c, {\n        method: \"POST\",\n        body: l,\n        headers: n,\n        credentials: \"include\"\n      });\n    } catch (c) {\n      throw new Error(M + c.message);\n    }\n    if (!o.ok) {\n      const c = await o.text();\n      return { error: `HTTP ${o.status}: ${c}` };\n    }\n    const p = await o.json();\n    p && r.push(...p);\n  }\n  return { files: r };\n}\nconst vt = {\n  radix: 1e3,\n  unit: [\"b\", \"kb\", \"Mb\", \"Gb\", \"Tb\", \"Pb\", \"Eb\", \"Zb\", \"Yb\"]\n}, Et = {\n  radix: 1024,\n  unit: [\"b\", \"Kib\", \"Mib\", \"Gib\", \"Tib\", \"Pib\", \"Eib\", \"Zib\", \"Yib\"]\n}, St = {\n  radix: 1024,\n  unit: [\"b\", \"Kb\", \"Mb\", \"Gb\", \"Tb\", \"Pb\", \"Eb\", \"Zb\", \"Yb\"]\n}, Se = {\n  si: vt,\n  iec: Et,\n  jedec: St\n};\nfunction $t(e, s = 1, t = \"jedec\") {\n  e = Math.abs(e);\n  const { radix: n, unit: i } = Se[t] || Se.jedec;\n  let r = 0;\n  for (; e >= n; )\n    e /= n, ++r;\n  return `${e.toFixed(s)} ${i[r]}`;\n}\nasync function kt(e, s, t, n) {\n  let i = (Array.isArray(e) ? e : [e]).map(\n    (o) => o.blob\n  );\n  const r = i.filter(\n    (o) => o.size > (n ?? 1 / 0)\n  );\n  if (r.length)\n    throw new Error(\n      `File(s) exceed the maximum allowed size of ${$t(n || 1 / 0)}: ${r.map((o) => `\"${o.name}\"`).join(\", \")}`\n    );\n  return await Promise.all(\n    await this.upload_files(s, i, t).then(\n      async (o) => {\n        if (o.error)\n          throw new Error(o.error);\n        return o.files ? o.files.map((a, u) => new Q({\n          ...e[u],\n          path: a,\n          url: `${s}${this.api_prefix}/file=${a}`\n        })) : [];\n      }\n    )\n  );\n}\nasync function Xt(e, s) {\n  return e.map(\n    (t) => new Q({\n      path: t.name,\n      orig_name: t.name,\n      blob: t,\n      size: t.size,\n      mime_type: t.type,\n      is_stream: s\n    })\n  );\n}\nclass Q {\n  path;\n  url;\n  orig_name;\n  size;\n  blob;\n  is_stream;\n  mime_type;\n  alt_text;\n  b64;\n  meta = { _type: \"gradio.FileData\" };\n  constructor({\n    path: s,\n    url: t,\n    orig_name: n,\n    size: i,\n    blob: r,\n    is_stream: o,\n    mime_type: a,\n    alt_text: u,\n    b64: l\n  }) {\n    this.path = s, this.url = t, this.orig_name = n, this.size = i, this.blob = t ? void 0 : r, this.is_stream = o, this.mime_type = a, this.alt_text = u, this.b64 = l;\n  }\n}\nclass Le {\n  type;\n  command;\n  meta;\n  fileData;\n  constructor(s, t) {\n    this.type = \"command\", this.command = s, this.meta = t;\n  }\n}\nconst Rt = typeof process < \"u\" && process.versions && process.versions.node;\nfunction $e(e, s, t) {\n  for (; t.length > 1; ) {\n    const i = t.shift();\n    if (typeof i == \"string\" || typeof i == \"number\")\n      e = e[i];\n    else\n      throw new Error(\"Invalid key type\");\n  }\n  const n = t.shift();\n  if (typeof n == \"string\" || typeof n == \"number\")\n    e[n] = s;\n  else\n    throw new Error(\"Invalid key type\");\n}\nasync function ce(e, s = void 0, t = [], n = !1, i = void 0) {\n  if (Array.isArray(e)) {\n    let r = [];\n    return await Promise.all(\n      e.map(async (o, a) => {\n        let u = t.slice();\n        u.push(String(a));\n        const l = await ce(\n          e[a],\n          n ? i?.parameters[a]?.component || void 0 : s,\n          u,\n          !1,\n          i\n        );\n        r = r.concat(l);\n      })\n    ), r;\n  } else {\n    if (globalThis.Buffer && e instanceof globalThis.Buffer || e instanceof Blob)\n      return [\n        {\n          path: t,\n          blob: new Blob([e]),\n          type: s\n        }\n      ];\n    if (typeof e == \"object\" && e !== null) {\n      let r = [];\n      for (const o of Object.keys(e)) {\n        const a = [...t, o], u = e[o];\n        r = r.concat(\n          await ce(\n            u,\n            void 0,\n            a,\n            !1,\n            i\n          )\n        );\n      }\n      return r;\n    }\n  }\n  return [];\n}\nfunction Ot(e, s) {\n  let t = s?.dependencies?.find((n) => n.id == e)?.queue;\n  return t != null ? !t : !s.enable_queue;\n}\nfunction Tt(e, s) {\n  return new Promise((t, n) => {\n    const i = new MessageChannel();\n    i.port1.onmessage = (({ data: r }) => {\n      i.port1.close(), t(r);\n    }), window.parent.postMessage(e, s, [i.port2]);\n  });\n}\nfunction es(e) {\n  if (typeof e == \"string\") {\n    if (e.startsWith(\"http://\") || e.startsWith(\"https://\"))\n      return {\n        path: e,\n        url: e,\n        orig_name: e.split(\"/\").pop() ?? \"unknown\",\n        meta: { _type: \"gradio.FileData\" }\n      };\n    if (Rt)\n      return new Le(\"upload_file\", {\n        path: e,\n        name: e,\n        orig_path: e\n      });\n  } else {\n    if (typeof File < \"u\" && e instanceof File)\n      return new Blob([e]);\n    if (e instanceof Buffer)\n      return new Blob([e]);\n    if (e instanceof Blob)\n      return e;\n  }\n  throw new Error(\n    \"Invalid input: must be a URL, File, Blob, or Buffer object.\"\n  );\n}\nfunction V(e, s, t, n, i = !1) {\n  if (n === \"input\" && !i)\n    throw new Error(\"Invalid code path. Cannot skip state inputs for input.\");\n  if (n === \"output\" && i)\n    return e;\n  let r = [], o = 0;\n  const a = n === \"input\" ? s.inputs : s.outputs;\n  for (let u = 0; u < a.length; u++) {\n    const l = a[u];\n    if (t.find((c) => c.id === l)?.type === \"state\") {\n      if (i)\n        if (e.length === a.length) {\n          const c = e[o];\n          r.push(c), o++;\n        } else\n          r.push(null);\n      else {\n        o++;\n        continue;\n      }\n      continue;\n    } else {\n      const c = e[o];\n      r.push(c), o++;\n    }\n  }\n  return r;\n}\nasync function At(e, s, t) {\n  const n = this;\n  await xt(n, s);\n  const i = await ce(\n    s,\n    void 0,\n    [],\n    !0,\n    t\n  );\n  return (await Promise.all(\n    i.map(async ({ path: o, blob: a, type: u }) => {\n      if (!a) return { path: o, type: u };\n      const l = await n.upload_files(e, [a]), p = l.files && l.files[0];\n      return {\n        path: o,\n        file_url: p,\n        type: u,\n        name: typeof File < \"u\" && a instanceof File ? a?.name : void 0\n      };\n    })\n  )).forEach(({ path: o, file_url: a, type: u, name: l }) => {\n    if (u === \"Gallery\")\n      $e(s, a, o);\n    else if (a) {\n      const p = new Q({ path: a, orig_name: l });\n      $e(s, p, o);\n    }\n  }), s;\n}\nasync function xt(e, s) {\n  if (!(e.config?.root || e.config?.root_url))\n    throw new Error(Ce);\n  await Pe(e, s);\n}\nasync function Pe(e, s, t = []) {\n  for (const n in s)\n    s[n] instanceof Le ? await Ct(e, s, n) : typeof s[n] == \"object\" && s[n] !== null && await Pe(e, s[n], [...t, n]);\n}\nasync function Ct(e, s, t) {\n  let n = s[t];\n  const i = e.config?.root || e.config?.root_url;\n  if (!i)\n    throw new Error(Ce);\n  try {\n    let r, o;\n    if (typeof process < \"u\" && process.versions && process.versions.node) {\n      const p = await import(\"./__vite-browser-external-DYxpcVy9.js\");\n      o = (await import(\"./__vite-browser-external-DYxpcVy9.js\")).resolve(process.cwd(), n.meta.path), r = await p.readFile(o);\n    } else\n      throw new Error(ut);\n    const a = new Blob([r], {\n      type: \"application/octet-stream\"\n    }), u = await e.upload_files(i, [a]), l = u.files && u.files[0];\n    if (l) {\n      const p = new Q({\n        path: l,\n        orig_name: n.meta.name || \"\"\n      });\n      s[t] = p;\n    }\n  } catch (r) {\n    console.error(lt, r);\n  }\n}\nasync function Dt(e, s, t) {\n  const n = { \"Content-Type\": \"application/json\" };\n  this.options.token && (n.Authorization = `Bearer ${this.options.token}`);\n  try {\n    var i = await this.fetch(e, {\n      method: \"POST\",\n      body: JSON.stringify(s),\n      headers: { ...n, ...t },\n      credentials: \"include\"\n    });\n  } catch {\n    return [{ error: M }, 500];\n  }\n  let r, o;\n  try {\n    r = await i.json(), o = i.status;\n  } catch (a) {\n    r = { error: `Could not parse server response: ${a}` }, o = 500;\n  }\n  return [r, o];\n}\nasync function Nt(e, s = {}) {\n  let t = !1, n = !1;\n  if (!this.config)\n    throw new Error(\"Could not resolve app config\");\n  if (typeof e == \"number\")\n    this.config.dependencies.find((i) => i.id == e);\n  else {\n    const i = e.replace(/^\\//, \"\");\n    this.config.dependencies.find(\n      (r) => r.id == this.api_map[i]\n    );\n  }\n  return new Promise(async (i, r) => {\n    const o = this.submit(e, s, null, null, !0);\n    let a;\n    for await (const u of o)\n      u.type === \"data\" && (n && i(a), t = !0, a = u), u.type === \"status\" && (u.stage === \"error\" && r(u), u.stage === \"complete\" && (n = !0, t && i(a)));\n  });\n}\nasync function G(e, s, t) {\n  let n = s === \"subdomain\" ? `https://huggingface.co/api/spaces/by-subdomain/${e}` : `https://huggingface.co/api/spaces/${e}`, i, r;\n  try {\n    if (i = await fetch(n), r = i.status, r !== 200)\n      throw new Error();\n    i = await i.json();\n  } catch {\n    t({\n      status: \"error\",\n      load_status: \"error\",\n      message: it,\n      detail: \"NOT_FOUND\"\n    });\n    return;\n  }\n  if (!i || r !== 200) return;\n  const {\n    runtime: { stage: o },\n    id: a\n  } = i;\n  switch (o) {\n    case \"STOPPED\":\n    case \"SLEEPING\":\n      t({\n        status: \"sleeping\",\n        load_status: \"pending\",\n        message: \"Space is asleep. Waking it up...\",\n        detail: o\n      }), setTimeout(() => {\n        G(e, s, t);\n      }, 1e3);\n      break;\n    case \"PAUSED\":\n      t({\n        status: \"paused\",\n        load_status: \"error\",\n        message: \"This space has been paused by the author. If you would like to try this demo, consider duplicating the space.\",\n        detail: o,\n        discussions_enabled: await ke(a)\n      });\n      break;\n    case \"RUNNING\":\n    case \"RUNNING_BUILDING\":\n      t({\n        status: \"running\",\n        load_status: \"complete\",\n        message: \"Space is running.\",\n        detail: o\n      });\n      break;\n    case \"BUILDING\":\n      t({\n        status: \"building\",\n        load_status: \"pending\",\n        message: \"Space is building...\",\n        detail: o\n      }), setTimeout(() => {\n        G(e, s, t);\n      }, 1e3);\n      break;\n    case \"APP_STARTING\":\n      t({\n        status: \"starting\",\n        load_status: \"pending\",\n        message: \"Space is starting...\",\n        detail: o\n      }), setTimeout(() => {\n        G(e, s, t);\n      }, 1e3);\n      break;\n    default:\n      t({\n        status: \"space_error\",\n        load_status: \"error\",\n        message: \"This space is experiencing an issue.\",\n        detail: o,\n        discussions_enabled: await ke(a)\n      });\n      break;\n  }\n}\nconst Ie = async (e, s) => {\n  let t = 0;\n  const n = 12, i = 5e3;\n  return new Promise((r) => {\n    G(\n      e,\n      le.test(e) ? \"space_name\" : \"subdomain\",\n      (o) => {\n        s(o), o.status === \"running\" || o.status === \"error\" || o.status === \"paused\" || o.status === \"space_error\" ? r() : (o.status === \"sleeping\" || o.status === \"building\") && (t < n ? (t++, setTimeout(() => {\n          Ie(e, s).then(r);\n        }, i)) : r());\n      }\n    );\n  });\n}, Lt = /^(?=[^]*\\b[dD]iscussions{0,1}\\b)(?=[^]*\\b[dD]isabled\\b)[^]*$/;\nasync function ke(e) {\n  try {\n    const s = await fetch(\n      `https://huggingface.co/api/spaces/${e}/discussions`,\n      {\n        method: \"HEAD\"\n      }\n    ), t = s.headers.get(\"x-error-message\");\n    return !(!s.ok || t && Lt.test(t));\n  } catch {\n    return !1;\n  }\n}\nasync function Pt(e, s) {\n  const t = {};\n  s && (t.Authorization = `Bearer ${s}`);\n  try {\n    const n = await fetch(\n      `https://huggingface.co/api/spaces/${e}/${Ye}`,\n      { headers: t }\n    );\n    if (n.status !== 200)\n      throw new Error(\"Space hardware could not be obtained.\");\n    const { hardware: i } = await n.json();\n    return i.current;\n  } catch (n) {\n    throw new Error(n.message);\n  }\n}\nasync function It(e, s, t) {\n  const n = {};\n  t && (n.Authorization = `Bearer ${t}`);\n  const i = {\n    seconds: s\n  };\n  try {\n    const r = await fetch(\n      `https://huggingface.co/api/spaces/${e}/${Qe}`,\n      {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\", ...n },\n        body: JSON.stringify(i)\n      }\n    );\n    if (r.status !== 200)\n      throw new Error(\n        \"Could not set sleep timeout on duplicated Space. Please visit *ADD HF LINK TO SETTINGS* to set a timeout manually to reduce billing charges.\"\n      );\n    return await r.json();\n  } catch (r) {\n    throw new Error(r.message);\n  }\n}\nconst Re = [\n  \"cpu-basic\",\n  \"cpu-upgrade\",\n  \"cpu-xl\",\n  \"t4-small\",\n  \"t4-medium\",\n  \"a10g-small\",\n  \"a10g-large\",\n  \"a10g-largex2\",\n  \"a10g-largex4\",\n  \"a100-large\",\n  \"zero-a10g\",\n  \"h100\",\n  \"h100x8\"\n];\nasync function jt(e, s) {\n  const { token: t, private: n, hardware: i, timeout: r, auth: o } = s;\n  if (i && !Re.includes(i))\n    throw new Error(\n      `Invalid hardware type provided. Valid types are: ${Re.map((g) => `\"${g}\"`).join(\",\")}.`\n    );\n  const { http_protocol: a, host: u } = await pe(e, t);\n  let l = null;\n  if (o) {\n    const g = await De(\n      a,\n      u,\n      o,\n      fetch\n    );\n    g && (l = Ne(g));\n  }\n  const p = {\n    Authorization: `Bearer ${t}`,\n    \"Content-Type\": \"application/json\",\n    ...l ? { Cookie: l.join(\"; \") } : {}\n  }, c = (await (await fetch(\"https://huggingface.co/api/whoami-v2\", {\n    headers: p\n  })).json()).name, m = e.split(\"/\")[1], w = {\n    repository: `${c}/${m}`\n  };\n  n && (w.private = !0);\n  let N;\n  try {\n    i || (N = await Pt(e, t));\n  } catch (g) {\n    throw Error(ue + g.message);\n  }\n  const f = i || N || \"cpu-basic\";\n  w.hardware = f;\n  try {\n    const g = await fetch(\n      `https://huggingface.co/api/spaces/${e}/duplicate`,\n      {\n        method: \"POST\",\n        headers: p,\n        body: JSON.stringify(w)\n      }\n    );\n    if (g.status === 409)\n      try {\n        return await Y.connect(`${c}/${m}`, s);\n      } catch (q) {\n        throw console.error(\"Failed to connect Client instance:\", q), q;\n      }\n    else if (g.status !== 200)\n      throw new Error(g.statusText);\n    const H = await g.json();\n    return await It(`${c}/${m}`, r || 300, t), await Y.connect(\n      Ut(H.url),\n      s\n    );\n  } catch (g) {\n    throw new Error(g);\n  }\n}\nfunction Ut(e) {\n  const s = /https:\\/\\/huggingface.co\\/spaces\\/([^/]+\\/[^/]+)/, t = e.match(s);\n  if (t)\n    return t[1];\n}\nclass qt extends TransformStream {\n  #e = \"\";\n  /** Constructs a new instance. */\n  constructor(s = { allowCR: !1 }) {\n    super({\n      transform: (t, n) => {\n        for (t = this.#e + t; ; ) {\n          const i = t.indexOf(`\n`), r = s.allowCR ? t.indexOf(\"\\r\") : -1;\n          if (r !== -1 && r !== t.length - 1 && (i === -1 || i - 1 > r)) {\n            n.enqueue(t.slice(0, r)), t = t.slice(r + 1);\n            continue;\n          }\n          if (i === -1)\n            break;\n          const o = t[i - 1] === \"\\r\" ? i - 1 : i;\n          n.enqueue(t.slice(0, o)), t = t.slice(i + 1);\n        }\n        this.#e = t;\n      },\n      flush: (t) => {\n        if (this.#e === \"\")\n          return;\n        const n = s.allowCR && this.#e.endsWith(\"\\r\") ? this.#e.slice(0, -1) : this.#e;\n        t.enqueue(n);\n      }\n    });\n  }\n}\nfunction zt(e) {\n  let s = new TextDecoderStream(), t = new qt({ allowCR: !0 });\n  return e.pipeThrough(s).pipeThrough(t);\n}\nfunction Bt(e) {\n  let t = /[:]\\s*/.exec(e), n = t && t.index;\n  if (n)\n    return [\n      e.substring(0, n),\n      e.substring(n + t[0].length)\n    ];\n}\nfunction Oe(e, s, t) {\n  e.get(s) || e.set(s, t);\n}\nasync function* Ft(e, s) {\n  if (!e.body)\n    return;\n  let t = zt(e.body), n, i = t.getReader(), r;\n  for (; ; ) {\n    if (s && s.aborted)\n      return i.cancel();\n    if (n = await i.read(), n.done)\n      return;\n    if (!n.value) {\n      r && (yield r), r = void 0;\n      continue;\n    }\n    let [o, a] = Bt(n.value) || [];\n    o === \"data\" ? (r ||= {}, r[o] = r[o] ? r[o] + `\n` + a : a) : o === \"event\" ? (r ||= {}, r[o] = a) : o === \"id\" ? (r ||= {}, r[o] = String(+a) === a ? +a : a) : o === \"retry\" && (r ||= {}, r[o] = +a || void 0);\n  }\n}\nasync function Gt(e, s) {\n  let t = new Request(e, s);\n  Oe(t.headers, \"Accept\", \"text/event-stream\"), Oe(t.headers, \"Content-Type\", \"application/json\");\n  let n = await fetch(t);\n  if (!n.ok)\n    throw n;\n  return Ft(n, t.signal);\n}\nasync function Mt() {\n  let {\n    event_callbacks: e,\n    unclosed_events: s,\n    pending_stream_messages: t,\n    stream_status: n,\n    config: i,\n    jwt: r\n  } = this;\n  const o = this;\n  if (!i)\n    throw new Error(\"Could not resolve app config\");\n  n.open = !0;\n  let a = null, u = new URLSearchParams({\n    session_hash: this.session_hash\n  }).toString(), l = new URL(`${i.root}${this.api_prefix}/${Te}?${u}`);\n  if (r && l.searchParams.set(\"__sign\", r), a = this.stream(l), !a) {\n    console.warn(\"Cannot connect to SSE endpoint: \" + l.toString());\n    return;\n  }\n  a.onmessage = async function(p) {\n    let c = JSON.parse(p.data);\n    if (c.msg === \"close_stream\") {\n      de(n, o.abort_controller);\n      return;\n    }\n    const m = c.event_id;\n    if (!m)\n      await Promise.all(\n        Object.keys(e).map(\n          (w) => e[w](c)\n        )\n      );\n    else if (e[m] && i) {\n      c.msg === \"process_completed\" && [\"sse\", \"sse_v1\", \"sse_v2\", \"sse_v2.1\", \"sse_v3\"].includes(\n        i.protocol\n      ) && s.delete(m);\n      let w = e[m];\n      typeof window < \"u\" && typeof document < \"u\" ? setTimeout(w, 0, c) : w(c);\n    } else\n      t[m] || (t[m] = []), t[m].push(c);\n  }, a.onerror = async function(p) {\n    console.error(p), await Promise.all(\n      Object.keys(e).map(\n        (c) => e[c]({\n          msg: \"broken_connection\",\n          message: M\n        })\n      )\n    );\n  };\n}\nfunction de(e, s) {\n  e && (e.open = !1, s?.abort());\n}\nfunction Ht(e, s, t) {\n  !e[s] ? (e[s] = [], t.data.forEach((i, r) => {\n    e[s][r] = i;\n  })) : t.data.forEach((i, r) => {\n    let o = Jt(e[s][r], i);\n    e[s][r] = o, t.data[r] = o;\n  });\n}\nfunction Jt(e, s) {\n  return s.forEach(([t, n, i]) => {\n    e = Wt(e, n, t, i);\n  }), e;\n}\nfunction Wt(e, s, t, n) {\n  if (s.length === 0) {\n    if (t === \"replace\")\n      return n;\n    if (t === \"append\")\n      return e + n;\n    throw new Error(`Unsupported action: ${t}`);\n  }\n  let i = e;\n  for (let o = 0; o < s.length - 1; o++)\n    i = i[s[o]];\n  const r = s[s.length - 1];\n  switch (t) {\n    case \"replace\":\n      i[r] = n;\n      break;\n    case \"append\":\n      i[r] += n;\n      break;\n    case \"add\":\n      Array.isArray(i) ? i.splice(Number(r), 0, n) : i[r] = n;\n      break;\n    case \"delete\":\n      Array.isArray(i) ? i.splice(Number(r), 1) : delete i[r];\n      break;\n    default:\n      throw new Error(`Unknown action: ${t}`);\n  }\n  return e;\n}\nfunction Zt(e, s = {}) {\n  const t = {\n    close: () => {\n      console.warn(\"Method not implemented.\");\n    },\n    onerror: null,\n    onmessage: null,\n    onopen: null,\n    readyState: 0,\n    url: e.toString(),\n    withCredentials: !1,\n    CONNECTING: 0,\n    OPEN: 1,\n    CLOSED: 2,\n    addEventListener: () => {\n      throw new Error(\"Method not implemented.\");\n    },\n    dispatchEvent: () => {\n      throw new Error(\"Method not implemented.\");\n    },\n    removeEventListener: () => {\n      throw new Error(\"Method not implemented.\");\n    }\n  };\n  return Gt(e, s).then(async (n) => {\n    t.readyState = t.OPEN;\n    try {\n      for await (const i of n)\n        t.onmessage && t.onmessage(i);\n      t.readyState = t.CLOSED;\n    } catch (i) {\n      t.onerror && t.onerror(i), t.readyState = t.CLOSED;\n    }\n  }).catch((n) => {\n    console.error(n), t.onerror && t.onerror(n), t.readyState = t.CLOSED;\n  }), t;\n}\nfunction Kt(e, s = {}, t, n, i, r) {\n  try {\n    let o = function(h) {\n      (i || ze[h.type]) && p(h);\n    }, a = function() {\n      for (Me = !0; F.length > 0; )\n        F.shift()({\n          value: void 0,\n          done: !0\n        });\n    }, u = function(h) {\n      F.length > 0 ? F.shift()(h) : ie.push(h);\n    }, l = function(h) {\n      u(Vt(h)), a();\n    }, p = function(h) {\n      u({ value: h, done: !1 });\n    }, c = function() {\n      return ie.length > 0 ? Promise.resolve(ie.shift()) : new Promise((h) => F.push(h));\n    };\n    const { token: m } = this.options, {\n      fetch: w,\n      app_reference: N,\n      config: f,\n      session_hash: g,\n      api_info: H,\n      api_map: q,\n      stream_status: X,\n      pending_stream_messages: ee,\n      pending_diff_streams: te,\n      event_callbacks: se,\n      unclosed_events: je,\n      post_data: ne,\n      options: J,\n      api_prefix: R\n    } = this, he = r || { \"x-gradio-user\": \"api\" }, Ue = this;\n    if (!H) throw new Error(\"No API found\");\n    if (!f) throw new Error(\"Could not resolve app config\");\n    let { fn_index: d, endpoint_info: fe, dependency: z } = Yt(\n      H,\n      e,\n      q,\n      f\n    ), qe = wt(s, fe), j, O = f.protocol ?? \"ws\";\n    if (O === \"ws\")\n      throw new Error(\"WebSocket protocol is not supported in this version\");\n    let U = \"\", Qt = () => U;\n    const _ = typeof e == \"number\" ? \"/predict\" : e;\n    let W, b = null, T = !1, _e = {}, B = typeof window < \"u\" && typeof document < \"u\" ? new URLSearchParams(window.location.search).toString() : \"\";\n    const ze = J?.events?.reduce(\n      (h, k) => (h[k] = !0, h),\n      {}\n    ) || {};\n    async function Be() {\n      let h = {}, k = {};\n      h = { event_id: b }, k = { event_id: b, session_hash: g, fn_index: d };\n      try {\n        if (!f)\n          throw new Error(\"Could not resolve app config\");\n        \"event_id\" in k && await w(`${f.root}${R}/${st}`, {\n          headers: { \"Content-Type\": \"application/json\" },\n          method: \"POST\",\n          body: JSON.stringify(k)\n        }), await w(`${f.root}${R}/${tt}`, {\n          headers: { \"Content-Type\": \"application/json\" },\n          method: \"POST\",\n          body: JSON.stringify(h)\n        });\n      } catch {\n        console.warn(\n          \"The `/reset` endpoint could not be called. Subsequent endpoint results may be unreliable.\"\n        );\n      }\n    }\n    const Fe = async (h) => {\n      await this._resolve_heartbeat(h);\n    };\n    async function me(h) {\n      if (!f) return;\n      let k = h.render_id;\n      f.components = [\n        ...f.components.filter((v) => v.props.rendered_in !== k),\n        ...h.components\n      ], f.dependencies = [\n        ...f.dependencies.filter((v) => v.rendered_in !== k),\n        ...h.dependencies\n      ];\n      const Z = f.components.some((v) => v.type === \"state\"), y = f.dependencies.some(\n        (v) => v.targets.some((L) => L[1] === \"unload\")\n      );\n      f.connect_heartbeat = Z || y, await Fe(f), o({\n        type: \"render\",\n        data: h,\n        endpoint: _,\n        fn_index: d\n      });\n    }\n    const Ge = this.handle_blob(\n      f.root,\n      qe,\n      fe\n    ).then(async (h) => {\n      if (W = {\n        data: V(\n          h,\n          z,\n          f.components,\n          \"input\",\n          !0\n        ) || [],\n        event_data: t,\n        fn_index: d,\n        trigger_id: n\n      }, Ot(d, f))\n        o({\n          type: \"status\",\n          endpoint: _,\n          stage: \"pending\",\n          queue: !1,\n          fn_index: d,\n          time: /* @__PURE__ */ new Date()\n        }), ne(\n          `${f.root}${R}/run${_.startsWith(\"/\") ? _ : `/${_}`}${B ? \"?\" + B : \"\"}`,\n          {\n            ...W,\n            session_hash: g\n          },\n          he\n        ).then(async ([y, v]) => {\n          const L = y.data;\n          v == 200 ? (o({\n            type: \"data\",\n            endpoint: _,\n            fn_index: d,\n            data: V(\n              L,\n              z,\n              f.components,\n              \"output\",\n              J.with_null_state\n            ),\n            time: /* @__PURE__ */ new Date(),\n            event_data: t,\n            trigger_id: n\n          }), y.render_config && await me(y.render_config), o({\n            type: \"status\",\n            endpoint: _,\n            fn_index: d,\n            stage: \"complete\",\n            eta: y.average_duration,\n            queue: !1,\n            time: /* @__PURE__ */ new Date()\n          })) : o({\n            type: \"status\",\n            stage: \"error\",\n            endpoint: _,\n            fn_index: d,\n            message: y.error,\n            queue: !1,\n            time: /* @__PURE__ */ new Date()\n          });\n        }).catch((y) => {\n          o({\n            type: \"status\",\n            stage: \"error\",\n            message: y.message,\n            endpoint: _,\n            fn_index: d,\n            queue: !1,\n            time: /* @__PURE__ */ new Date()\n          });\n        });\n      else if (O == \"sse\") {\n        o({\n          type: \"status\",\n          stage: \"pending\",\n          queue: !0,\n          endpoint: _,\n          fn_index: d,\n          time: /* @__PURE__ */ new Date()\n        });\n        var Z = new URLSearchParams({\n          fn_index: d.toString(),\n          session_hash: g\n        }).toString();\n        let y = new URL(\n          `${f.root}${R}/${Te}?${B ? B + \"&\" : \"\"}${Z}`\n        );\n        if (this.jwt && y.searchParams.set(\"__sign\", this.jwt), j = this.stream(y), !j)\n          return Promise.reject(\n            new Error(\"Cannot connect to SSE endpoint: \" + y.toString())\n          );\n        j.onmessage = async function(v) {\n          const L = JSON.parse(v.data), { type: P, status: A, data: x } = Ee(\n            L,\n            _e[d]\n          );\n          if (P === \"update\" && A && !T)\n            o({\n              type: \"status\",\n              endpoint: _,\n              fn_index: d,\n              time: /* @__PURE__ */ new Date(),\n              ...A\n            }), A.stage === \"error\" && (j?.close(), a());\n          else if (P === \"data\") {\n            let [C, I] = await ne(\n              `${f.root}${R}/queue/data`,\n              {\n                ...W,\n                session_hash: g,\n                event_id: b\n              }\n            );\n            I !== 200 && (o({\n              type: \"status\",\n              stage: \"error\",\n              message: M,\n              queue: !0,\n              endpoint: _,\n              fn_index: d,\n              time: /* @__PURE__ */ new Date()\n            }), j?.close(), a());\n          } else P === \"complete\" ? T = A : P === \"log\" ? o({\n            type: \"log\",\n            title: x.title,\n            log: x.log,\n            level: x.level,\n            endpoint: _,\n            duration: x.duration,\n            visible: x.visible,\n            fn_index: d\n          }) : (P === \"generating\" || P === \"streaming\") && o({\n            type: \"status\",\n            time: /* @__PURE__ */ new Date(),\n            ...A,\n            stage: A?.stage,\n            queue: !0,\n            endpoint: _,\n            fn_index: d\n          });\n          x && (o({\n            type: \"data\",\n            time: /* @__PURE__ */ new Date(),\n            data: V(\n              x.data,\n              z,\n              f.components,\n              \"output\",\n              J.with_null_state\n            ),\n            endpoint: _,\n            fn_index: d,\n            event_data: t,\n            trigger_id: n\n          }), T && (o({\n            type: \"status\",\n            time: /* @__PURE__ */ new Date(),\n            ...T,\n            stage: A?.stage,\n            queue: !0,\n            endpoint: _,\n            fn_index: d\n          }), j?.close(), a()));\n        };\n      } else if (O == \"sse_v1\" || O == \"sse_v2\" || O == \"sse_v2.1\" || O == \"sse_v3\") {\n        o({\n          type: \"status\",\n          stage: \"pending\",\n          queue: !0,\n          endpoint: _,\n          fn_index: d,\n          time: /* @__PURE__ */ new Date()\n        });\n        let y = \"\";\n        typeof window < \"u\" && typeof document < \"u\" && (y = window?.location?.hostname);\n        const L = y.includes(\".dev.\") ? `https://moon-${y.split(\".\")[1]}.dev.spaces.huggingface.tech` : \"https://huggingface.co\";\n        return (typeof window < \"u\" && typeof document < \"u\" && window.parent != window && window.supports_zerogpu_headers ? Tt(\"zerogpu-headers\", L) : Promise.resolve(null)).then((C) => {\n          const I = { ...he, ...C || {} };\n          return ne(\n            `${f.root}${R}/${Ze}?${B}`,\n            {\n              ...W,\n              session_hash: g\n            },\n            I\n          );\n        }).then(async ([C, I]) => {\n          if (C.event_id && (U = C.event_id), I === 503)\n            o({\n              type: \"status\",\n              stage: \"error\",\n              message: Ae,\n              queue: !0,\n              endpoint: _,\n              fn_index: d,\n              time: /* @__PURE__ */ new Date(),\n              visible: !0\n            });\n          else if (I === 422)\n            o({\n              type: \"status\",\n              stage: \"error\",\n              message: C.detail,\n              queue: !0,\n              endpoint: _,\n              fn_index: d,\n              code: \"validation_error\",\n              time: /* @__PURE__ */ new Date(),\n              visible: !0\n            }), a();\n          else if (I !== 200)\n            o({\n              type: \"status\",\n              stage: \"error\",\n              broken: !1,\n              message: C.detail,\n              queue: !0,\n              endpoint: _,\n              fn_index: d,\n              time: /* @__PURE__ */ new Date(),\n              visible: !0\n            });\n          else {\n            b = C.event_id, U = b;\n            let we = async function(oe) {\n              try {\n                const { type: E, status: S, data: $, original_msg: He } = Ee(\n                  oe,\n                  _e[d]\n                );\n                if (E == \"heartbeat\")\n                  return;\n                if (E === \"update\" && S && !T)\n                  o({\n                    type: \"status\",\n                    endpoint: _,\n                    fn_index: d,\n                    time: /* @__PURE__ */ new Date(),\n                    original_msg: He,\n                    ...S\n                  });\n                else if (E === \"complete\")\n                  T = S;\n                else if (E == \"unexpected_error\" || E == \"broken_connection\") {\n                  console.error(\"Unexpected error\", S?.message);\n                  const Je = E === \"broken_connection\";\n                  o({\n                    type: \"status\",\n                    stage: \"error\",\n                    message: S?.message || \"An Unexpected Error Occurred!\",\n                    queue: !0,\n                    endpoint: _,\n                    broken: Je,\n                    session_not_found: S?.session_not_found,\n                    fn_index: d,\n                    time: /* @__PURE__ */ new Date()\n                  });\n                } else if (E === \"log\") {\n                  o({\n                    type: \"log\",\n                    title: $.title,\n                    log: $.log,\n                    level: $.level,\n                    endpoint: _,\n                    duration: $.duration,\n                    visible: $.visible,\n                    fn_index: d\n                  });\n                  return;\n                } else (E === \"generating\" || E === \"streaming\") && (o({\n                  type: \"status\",\n                  time: /* @__PURE__ */ new Date(),\n                  ...S,\n                  stage: S?.stage,\n                  queue: !0,\n                  endpoint: _,\n                  fn_index: d\n                }), $ && z.connection !== \"stream\" && [\"sse_v2\", \"sse_v2.1\", \"sse_v3\"].includes(O) && Ht(te, b, $));\n                $ && (o({\n                  type: \"data\",\n                  time: /* @__PURE__ */ new Date(),\n                  data: V(\n                    $.data,\n                    z,\n                    f.components,\n                    \"output\",\n                    J.with_null_state\n                  ),\n                  endpoint: _,\n                  fn_index: d\n                }), $.render_config && await me($.render_config), T && (o({\n                  type: \"status\",\n                  time: /* @__PURE__ */ new Date(),\n                  ...T,\n                  stage: S?.stage,\n                  queue: !0,\n                  endpoint: _,\n                  fn_index: d\n                }), a())), (S?.stage === \"complete\" || S?.stage === \"error\") && (se[b] && delete se[b], b in te && delete te[b]);\n              } catch (E) {\n                console.error(\"Unexpected client exception\", E), o({\n                  type: \"status\",\n                  stage: \"error\",\n                  message: \"An Unexpected Error Occurred!\",\n                  queue: !0,\n                  endpoint: _,\n                  fn_index: d,\n                  time: /* @__PURE__ */ new Date()\n                }), [\"sse_v2\", \"sse_v2.1\", \"sse_v3\"].includes(O) && (de(X, Ue.abort_controller), X.open = !1, a());\n              }\n            };\n            b in ee && (ee[b].forEach((oe) => we(oe)), delete ee[b]), se[b] = we, je.add(b), X.open || await this.open_stream();\n          }\n        });\n      }\n    });\n    let Me = !1;\n    const ie = [], F = [], ge = {\n      [Symbol.asyncIterator]: () => ge,\n      next: c,\n      throw: async (h) => (l(h), c()),\n      return: async () => (a(), { value: void 0, done: !0 }),\n      cancel: Be,\n      send_chunk: (h) => {\n        this.post_data(`${f.root}${R}/stream/${U}`, {\n          ...h,\n          session_hash: this.session_hash\n        });\n      },\n      close_stream: () => {\n        this.post_data(\n          `${f.root}${R}/stream/${U}/close`,\n          {}\n        ), a();\n      },\n      event_id: () => U,\n      wait_for_id: async () => (await Ge, b)\n    };\n    return ge;\n  } catch (o) {\n    throw console.error(\"Submit function encountered an error:\", o), o;\n  }\n}\nfunction Vt(e) {\n  return {\n    then: (s, t) => t(e)\n  };\n}\nfunction Yt(e, s, t, n) {\n  let i, r, o;\n  if (typeof s == \"number\")\n    i = s, r = e.unnamed_endpoints[i], o = n.dependencies.find((a) => a.id == s);\n  else {\n    const a = s.replace(/^\\//, \"\");\n    i = t[a], r = e.named_endpoints[s.trim()], o = n.dependencies.find(\n      (u) => u.id == t[a]\n    );\n  }\n  if (typeof i != \"number\")\n    throw new Error(\n      \"There is no endpoint matching that name of fn_index matching that number.\"\n    );\n  return { fn_index: i, endpoint_info: r, dependency: o };\n}\nclass Y {\n  app_reference;\n  options;\n  deep_link = null;\n  config;\n  api_prefix = \"\";\n  api_info;\n  api_map = {};\n  session_hash = Math.random().toString(36).substring(2);\n  jwt = !1;\n  last_status = {};\n  cookies = null;\n  // streaming\n  stream_status = { open: !1 };\n  closed = !1;\n  pending_stream_messages = {};\n  pending_diff_streams = {};\n  event_callbacks = {};\n  unclosed_events = /* @__PURE__ */ new Set();\n  heartbeat_event = null;\n  abort_controller = null;\n  stream_instance = null;\n  current_payload;\n  get_url_config(s = null) {\n    if (!this.config)\n      throw new Error(D);\n    s === null && (s = window.location.href);\n    const t = (o) => o.replace(/^\\/+|\\/+$/g, \"\");\n    let n = t(new URL(this.config.root).pathname), i = t(new URL(s).pathname), r;\n    return i.startsWith(n) ? r = t(i.substring(n.length)) : r = \"\", this.get_page_config(r);\n  }\n  get_page_config(s) {\n    if (!this.config)\n      throw new Error(D);\n    let t = this.config;\n    return s in t.page || (s = \"\"), {\n      ...t,\n      current_page: s,\n      layout: t.page[s].layout,\n      components: t.components.filter(\n        (n) => t.page[s].components.includes(n.id)\n      ),\n      dependencies: this.config.dependencies.filter(\n        (n) => t.page[s].dependencies.includes(n.id)\n      )\n    };\n  }\n  fetch(s, t) {\n    const n = new Headers(t?.headers || {});\n    return this && this.cookies && n.append(\"Cookie\", this.cookies), this && this.options.headers && new Headers(this.options.headers).forEach((r, o) => {\n      n.append(o, r);\n    }), fetch(s, { ...t, headers: n });\n  }\n  stream(s) {\n    const t = new Headers();\n    return this && this.cookies && t.append(\"Cookie\", this.cookies), this && this.options.headers && new Headers(this.options.headers).forEach((i, r) => {\n      t.append(r, i);\n    }), this && this.options.token && t.append(\"Authorization\", `Bearer ${this.options.token}`), this.abort_controller = new AbortController(), this.stream_instance = Zt(s.toString(), {\n      credentials: \"include\",\n      headers: t,\n      signal: this.abort_controller.signal\n    }), this.stream_instance;\n  }\n  view_api;\n  upload_files;\n  upload;\n  handle_blob;\n  post_data;\n  submit;\n  predict;\n  open_stream;\n  resolve_config;\n  resolve_cookies;\n  constructor(s, t = { events: [\"data\"] }) {\n    this.app_reference = s, this.deep_link = t.query_params?.deep_link || null, t.events || (t.events = [\"data\"]), this.options = t, this.current_payload = {}, t.cookies && (this.cookies = t.cookies), this.view_api = yt.bind(this), this.upload_files = bt.bind(this), this.handle_blob = At.bind(this), this.post_data = Dt.bind(this), this.submit = Kt.bind(this), this.predict = Nt.bind(this), this.open_stream = Mt.bind(this), this.resolve_config = dt.bind(this), this.resolve_cookies = ht.bind(this), this.upload = kt.bind(this), this.fetch = this.fetch.bind(this), this.handle_space_success = this.handle_space_success.bind(this), this.stream = this.stream.bind(this);\n  }\n  async init() {\n    this.options.auth && await this.resolve_cookies(), await this._resolve_config().then(\n      ({ config: s }) => this._resolve_heartbeat(s)\n    ), this.api_info = await this.view_api(), this.api_map = pt(this.config?.dependencies || []);\n  }\n  async _resolve_heartbeat(s) {\n    if (s && (this.config = s, this.api_prefix = s.api_prefix || \"\", this.config && this.config.connect_heartbeat && this.config.space_id && this.options.token && (this.jwt = await be(\n      this.config.space_id,\n      this.options.token,\n      this.cookies\n    ))), s.space_id && this.options.token && (this.jwt = await be(s.space_id, this.options.token)), this.config && this.config.connect_heartbeat) {\n      const t = new URL(\n        `${this.config.root}${this.api_prefix}/${Xe}/${this.session_hash}`\n      );\n      this.jwt && t.searchParams.set(\"__sign\", this.jwt), this.heartbeat_event || (this.heartbeat_event = this.stream(t));\n    }\n  }\n  static async connect(s, t = {\n    events: [\"data\"]\n  }) {\n    const n = new this(s, t);\n    return t.session_hash && (n.session_hash = t.session_hash), await n.init(), n;\n  }\n  async reconnect() {\n    const s = new URL(\n      `${this.config.root}${this.api_prefix}/${nt}`\n    );\n    let t;\n    try {\n      const n = await this.fetch(s);\n      if (!n.ok)\n        throw new Error();\n      t = (await n.json()).app_id;\n    } catch {\n      return \"broken\";\n    }\n    return t !== this.config.app_id ? \"changed\" : \"connected\";\n  }\n  close() {\n    this.closed = !0, de(this.stream_status, this.abort_controller);\n  }\n  set_current_payload(s) {\n    this.current_payload = s;\n  }\n  static async duplicate(s, t = {\n    events: [\"data\"]\n  }) {\n    return jt(s, t);\n  }\n  async _resolve_config() {\n    const { http_protocol: s, host: t, space_id: n } = await pe(\n      this.app_reference,\n      this.options.token\n    ), { status_callback: i } = this.options;\n    n && i && await Ie(n, i);\n    let r;\n    try {\n      let o = `${s}//${t}`;\n      if (r = await this.resolve_config(o), !r)\n        throw new Error(D);\n      return this.config_success(r);\n    } catch (o) {\n      if (n && i)\n        G(\n          n,\n          le.test(n) ? \"space_name\" : \"subdomain\",\n          this.handle_space_success\n        );\n      else\n        throw i && i({\n          status: \"error\",\n          message: \"Could not load this space.\",\n          load_status: \"error\",\n          detail: \"NOT_FOUND\"\n        }), Error(o);\n    }\n  }\n  async config_success(s) {\n    if (this.config = s, this.api_prefix = s.api_prefix || \"\", this.config.auth_required)\n      return this.prepare_return_obj();\n    try {\n      this.api_info = await this.view_api();\n    } catch (t) {\n      console.error(ot + t.message);\n    }\n    return this.prepare_return_obj();\n  }\n  async handle_space_success(s) {\n    if (!this)\n      throw new Error(D);\n    const { status_callback: t } = this.options;\n    if (t && t(s), s.status === \"running\")\n      try {\n        if (this.config = await this._resolve_config(), this.api_prefix = this?.config?.api_prefix || \"\", !this.config)\n          throw new Error(D);\n        return await this.config_success(this.config);\n      } catch (n) {\n        throw t && t({\n          status: \"error\",\n          message: \"Could not load this space.\",\n          load_status: \"error\",\n          detail: \"NOT_FOUND\"\n        }), n;\n      }\n  }\n  async component_server(s, t, n) {\n    if (!this.config)\n      throw new Error(D);\n    const i = {}, { token: r } = this.options, { session_hash: o } = this;\n    r && (i.Authorization = `Bearer ${this.options.token}`);\n    let a, u = this.config.components.find(\n      (p) => p.id === s\n    );\n    u?.props?.root_url ? a = u.props.root_url : a = this.config.root;\n    let l;\n    if (\"binary\" in n) {\n      l = new FormData();\n      for (const p in n.data)\n        p !== \"binary\" && l.append(p, n.data[p]);\n      l.set(\"component_id\", s.toString()), l.set(\"fn_name\", t), l.set(\"session_hash\", o);\n    } else\n      l = JSON.stringify({\n        data: n,\n        component_id: s,\n        fn_name: t,\n        session_hash: o\n      }), i[\"Content-Type\"] = \"application/json\";\n    r && (i.Authorization = `Bearer ${r}`);\n    try {\n      const p = await this.fetch(\n        `${a}${this.api_prefix}/${et}/`,\n        {\n          method: \"POST\",\n          body: l,\n          headers: i,\n          credentials: \"include\"\n        }\n      );\n      if (!p.ok)\n        throw new Error(\n          \"Could not connect to component server: \" + p.statusText\n        );\n      return await p.json();\n    } catch (p) {\n      console.warn(p);\n    }\n  }\n  set_cookies(s) {\n    this.cookies = Ne(s).join(\"; \");\n  }\n  prepare_return_obj() {\n    return {\n      config: this.config,\n      predict: this.predict,\n      submit: this.submit,\n      view_api: this.view_api,\n      component_server: this.component_server\n    };\n  }\n}\nasync function ts(e, s = {\n  events: [\"data\"]\n}) {\n  return await Y.connect(e, s);\n}\nasync function ss(e, s) {\n  return await Y.duplicate(e, s);\n}\nexport {\n  Y as Client,\n  Q as FileData,\n  ct as MISSING_CREDENTIALS_MSG,\n  ts as client,\n  ss as duplicate,\n  es as handle_file,\n  Nt as predict,\n  Xt as prepare_files,\n  Kt as submit,\n  kt as upload,\n  bt as upload_files\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}