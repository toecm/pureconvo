{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\toecm\\\\Documents\\\\PureConvo\\\\pure-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport { v4 as uuidv4 } from 'uuid';\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { Client } from \"@gradio/client\";\nimport { useReactMediaRecorder } from \"react-media-recorder\";\nimport './App.css';\n\n// --- CONFIG ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SPACE_URL = \"https://toecm-pureconvo.hf.space\";\nconst FALLBACK_DIALECTS = [\"AfricanAmerican English\", \"NaijaPidgin English\", \"Nigerian English\", \"Indian English\", \"American English\", \"+ Add New Dialect\"];\nconst TONES = [\"Neutral\", \"Slang/Casual\", \"Formal\", \"Proverb\"];\n\n// --- ASSETS & HELPERS ---\nconst getDoodleUrl = k => `https://loremflickr.com/400/200/${k},sketch/all`;\nconst getPhotoUrl = k => `https://loremflickr.com/400/200/${k},street,city/all`; // Photorealistic for Game 3\nconst getRandom = arr => arr[Math.floor(Math.random() * arr.length)];\nfunction App() {\n  _s();\n  // === GLOBAL STATE (Shared across games) ===\n  const [activeGame, setActiveGame] = useState(\"HOME\"); // HOME, ARCHIVIST, CHAT, VISION\n  const [userKey, setUserKey] = useState(null);\n  const [xp, setXP] = useState(0);\n  const [address, setAddress] = useState(\"\");\n  const [dialects, setDialects] = useState([]);\n\n  // === INIT (Run once) ===\n  useEffect(() => {\n    // 1. User ID\n    const storedKey = localStorage.getItem(\"pure_user_key\");\n    const key = storedKey || uuidv4();\n    if (!storedKey) localStorage.setItem(\"pure_user_key\", key);\n    setUserKey(key);\n    setAddress(\"0x\" + key.replace(/-/g, \"\").slice(0, 40));\n\n    // 2. Fetch Dialects\n    const loadDialects = async () => {\n      try {\n        const app = await Client.connect(SPACE_URL);\n        const res = await app.predict(\"/get_dialects\");\n        const dList = JSON.parse(res.data[0]);\n        if (!dList.includes(\"+ Add New Dialect\")) dList.push(\"+ Add New Dialect\");\n        setDialects(dList);\n      } catch {\n        setDialects(FALLBACK_DIALECTS);\n      }\n    };\n    loadDialects();\n  }, []);\n\n  // === RENDER ROUTER ===\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cyber-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hud-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"xp-badge\",\n          children: [\"\\u2728 \", xp, \" XP\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status-badge\",\n          children: [\"MODE: \", activeGame]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), activeGame === \"HOME\" && /*#__PURE__*/_jsxDEV(HomeMenu, {\n        onSelect: setActiveGame\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), activeGame === \"ARCHIVIST\" && /*#__PURE__*/_jsxDEV(GameArchivist, {\n        userKey: userKey,\n        xp: xp,\n        setXP: setXP,\n        dialects: dialects,\n        onBack: () => setActiveGame(\"HOME\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), activeGame === \"CHAT\" && /*#__PURE__*/_jsxDEV(GameSpeedChat, {\n        userKey: userKey,\n        xp: xp,\n        setXP: setXP,\n        dialects: dialects,\n        onBack: () => setActiveGame(\"HOME\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), activeGame === \"VISION\" && /*#__PURE__*/_jsxDEV(GameVisionQuest, {\n        userKey: userKey,\n        xp: xp,\n        setXP: setXP,\n        dialects: dialects,\n        onBack: () => setActiveGame(\"HOME\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"id-footer\",\n        children: [\"OPERATOR: \", address.slice(0, 6), \"...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n// ==========================================\n// üè† COMPONENT: HOME MENU\n// ==========================================\n_s(App, \"ubfpFgWCOQl+JWUPbJqwOHZT3WE=\");\n_c = App;\nfunction HomeMenu({\n  onSelect\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"menu-grid\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-card\",\n      onClick: () => onSelect(\"ARCHIVIST\"),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"icon\",\n        children: \"\\uD83D\\uDCDC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"The Archivist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Relaxed Mode. Daily Journaling.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-card highlight\",\n      onClick: () => onSelect(\"CHAT\"),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"icon\",\n        children: \"\\u26A1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Speed Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"10s Timer. Rapid Fire Topics.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-card\",\n      onClick: () => onSelect(\"VISION\"),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"icon\",\n        children: \"\\uD83D\\uDC41\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Vision Quest\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Describe what you see.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n}\n\n// ==========================================\n// üìú GAME 1: THE ARCHIVIST (Original)\n// ==========================================\n_c2 = HomeMenu;\nfunction GameArchivist({\n  userKey,\n  setXP,\n  dialects,\n  onBack\n}) {\n  _s2();\n  const [mission, setMission] = useState({\n    text: \"Loading...\",\n    image: \"\"\n  });\n  const {\n    status,\n    startRecording,\n    stopRecording,\n    mediaBlobUrl\n  } = useReactMediaRecorder({\n    audio: true\n  });\n\n  // Fetch Mission Logic\n  useEffect(() => {\n    const fetchM = async () => {\n      try {\n        const app = await Client.connect(SPACE_URL);\n        const res = await app.predict(\"/generate_mission\", [\"Daily Life\"]);\n        const data = JSON.parse(res.data[0]);\n        setMission({\n          text: data.text,\n          image: getDoodleUrl(\"coffee\")\n        });\n      } catch {\n        setMission({\n          text: \"Describe your morning routine.\",\n          image: getDoodleUrl(\"coffee\")\n        });\n      }\n    };\n    fetchM();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(SharedGameLayout, {\n    title: \"ARCHIVE ENTRY\",\n    mission: mission,\n    recStatus: status,\n    startRec: startRecording,\n    stopRec: stopRecording,\n    mediaBlob: mediaBlobUrl,\n    dialects: dialects,\n    userKey: userKey,\n    setXP: setXP,\n    onBack: onBack,\n    mode: \"relaxed\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 9\n  }, this);\n}\n\n// ==========================================\n// ‚ö° GAME 2: SPEED CHAT (The 10s Timer)\n// ==========================================\n_s2(GameArchivist, \"Kd74cGJpjSODMqjHwJ1yhzHOkiU=\", false, function () {\n  return [useReactMediaRecorder];\n});\n_c3 = GameArchivist;\nfunction GameSpeedChat({\n  userKey,\n  setXP,\n  dialects,\n  onBack\n}) {\n  _s3();\n  const [stage, setStage] = useState(\"onboarding\"); // onboarding -> challenge\n  const [nickname, setNickname] = useState(localStorage.getItem(\"pure_nickname\") || \"\");\n  const [mission, setMission] = useState({\n    text: \"\",\n    image: \"\"\n  });\n  const [timeLeft, setTimeLeft] = useState(10);\n  const {\n    status,\n    startRecording,\n    stopRecording,\n    mediaBlobUrl\n  } = useReactMediaRecorder({\n    audio: true\n  });\n  const timerRef = useRef(null);\n\n  // Timer Logic\n  useEffect(() => {\n    if (status === \"recording\") {\n      setTimeLeft(10);\n      timerRef.current = setInterval(() => {\n        setTimeLeft(p => {\n          if (p <= 1) {\n            stopRecording();\n            return 0;\n          }\n          return p - 1;\n        });\n      }, 1000);\n    } else {\n      clearInterval(timerRef.current);\n    }\n    return () => clearInterval(timerRef.current);\n  }, [status, stopRecording]);\n\n  // Mission Fetcher\n  const fetchMission = async topic => {\n    setMission({\n      text: \"Incoming...\",\n      image: \"\"\n    });\n    try {\n      const app = await Client.connect(SPACE_URL);\n      const res = await app.predict(\"/generate_mission\", [`Ask ${nickname} about ${topic}`]);\n      const data = JSON.parse(res.data[0]);\n      setMission({\n        text: data.text,\n        image: getDoodleUrl(topic)\n      });\n    } catch {\n      setMission({\n        text: `Hey ${nickname}, tell me about ${topic}!`,\n        image: getDoodleUrl(topic)\n      });\n    }\n  };\n  if (stage === \"onboarding\" && !nickname) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"onboarding-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"IDENTIFY YOURSELF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"cyber-input\",\n        value: nickname,\n        onChange: e => setNickname(e.target.value),\n        placeholder: \"Enter Codename\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"cyber-button\",\n        onClick: () => {\n          localStorage.setItem(\"pure_nickname\", nickname);\n          setStage(\"challenge\");\n          fetchMission(\"Hobbies\");\n        },\n        children: \"START\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"cancel-btn\",\n        onClick: onBack,\n        children: \"EXIT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(SharedGameLayout, {\n    title: `CHAT WITH ${nickname ? nickname.toUpperCase() : 'USER'}`,\n    mission: mission,\n    recStatus: status,\n    startRec: startRecording,\n    stopRec: stopRecording,\n    mediaBlob: mediaBlobUrl,\n    dialects: dialects,\n    userKey: userKey,\n    setXP: setXP,\n    onBack: onBack,\n    timer: timeLeft // Pass timer\n    ,\n    onNext: () => fetchMission(getRandom([\"Food\", \"Traffic\", \"Music\", \"Money\"])) // Infinite Loop\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 9\n  }, this);\n}\n\n// ==========================================\n// üëÅÔ∏è GAME 3: VISION QUEST (Describe Image)\n// ==========================================\n_s3(GameSpeedChat, \"I4VMZAI44e8pQua2jZOIRhjbFiY=\", false, function () {\n  return [useReactMediaRecorder];\n});\n_c4 = GameSpeedChat;\nfunction GameVisionQuest({\n  userKey,\n  setXP,\n  dialects,\n  onBack\n}) {\n  _s4();\n  const [mission, setMission] = useState({\n    text: \"Loading...\",\n    image: \"\"\n  });\n  const {\n    status,\n    startRecording,\n    stopRecording,\n    mediaBlobUrl\n  } = useReactMediaRecorder({\n    audio: true\n  });\n  const loadNewImage = () => {\n    const keywords = [\"market\", \"street\", \"festival\", \"classroom\", \"kitchen\", \"traffic\"];\n    const k = getRandom(keywords);\n    setMission({\n      text: \"Describe exactly what you see in this image. Be specific.\",\n      image: getPhotoUrl(k) // Uses the 'photo' helper, not doodle\n    });\n  };\n  useEffect(() => {\n    loadNewImage();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(SharedGameLayout, {\n    title: \"OBSERVATION DECK\",\n    mission: mission,\n    recStatus: status,\n    startRec: startRecording,\n    stopRec: stopRecording,\n    mediaBlob: mediaBlobUrl,\n    dialects: dialects,\n    userKey: userKey,\n    setXP: setXP,\n    onBack: onBack,\n    onNext: loadNewImage // Next image on success\n    ,\n    mode: \"vision\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 9\n  }, this);\n}\n\n// ==========================================\n// ‚öôÔ∏è SHARED GAME LAYOUT (The Engine)\n// ==========================================\n_s4(GameVisionQuest, \"Kd74cGJpjSODMqjHwJ1yhzHOkiU=\", false, function () {\n  return [useReactMediaRecorder];\n});\n_c5 = GameVisionQuest;\nfunction SharedGameLayout({\n  title,\n  mission,\n  recStatus,\n  startRec,\n  stopRec,\n  mediaBlob,\n  dialects,\n  userKey,\n  setXP,\n  onBack,\n  onNext,\n  timer,\n  mode\n}) {\n  _s5();\n  const [step, setStep] = useState(\"RECORD\"); // RECORD -> REVIEW\n  const [transcribed, setTranscribed] = useState(\"\");\n  const [clarification, setClarification] = useState(\"\");\n  const [dialect, setDialect] = useState(dialects[0] || \"General\");\n  const [customD, setCustomD] = useState(\"\");\n  const handleAnalyze = async () => {\n    if (!mediaBlob) return;\n    setStep(\"ANALYZING\");\n    try {\n      const blob = await fetch(mediaBlob).then(r => r.blob());\n      const app = await Client.connect(SPACE_URL);\n      const d = dialect === \"+ Add New Dialect\" ? customD : dialect;\n      const tRes = await app.predict(\"/transcribe_check\", [blob, d]);\n      setTranscribed(tRes.data[0]);\n      const cRes = await app.predict(\"/generate_clarifications\", [tRes.data[0], d]);\n      const cData = JSON.parse(cRes.data[0]);\n      setClarification(cData.clarification || \"\");\n      setStep(\"REVIEW\");\n    } catch {\n      setStep(\"REVIEW\");\n      setTranscribed(\"Error.\");\n    }\n  };\n  const handleSubmit = async () => {\n    setStep(\"MINTING\");\n    try {\n      const blob = await fetch(mediaBlob).then(r => r.blob());\n      const app = await Client.connect(SPACE_URL);\n      const d = dialect === \"+ Add New Dialect\" ? customD : dialect;\n      await app.predict(\"/check_and_submit_logic\", [transcribed, dialect, customD, clarification, \"Neutral\", \"Game\", \"None\", userKey, blob, false]);\n      setXP(p => p + 50);\n\n      // IF INFINITE MODE, NEXT ROUND. ELSE BACK TO HOME.\n      if (onNext) {\n        setStep(\"RECORD\");\n        onNext();\n      } else {\n        onBack();\n      }\n    } catch {\n      setStep(\"RECORD\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-layout\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mission-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"doodle-bg\",\n        style: {\n          backgroundImage: `url(${mission.image})`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mission-content-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: mission.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control-panel\",\n      children: [step === \"RECORD\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dialect-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: dialect,\n            onChange: e => setDialect(e.target.value),\n            children: dialects.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: d,\n              children: d\n            }, d, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 52\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 29\n          }, this), dialect === \"+ Add New Dialect\" && /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"cyber-input\",\n            placeholder: \"Dialect Name\",\n            value: customD,\n            onChange: e => setCustomD(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `record-zone ${recStatus === \"recording\" ? \"active\" : \"\"}`,\n          children: [timer !== undefined && recStatus === \"recording\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timer\",\n            children: [timer, \"s\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 82\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `record-btn ${recStatus === \"recording\" ? \"pulsing\" : \"\"}`,\n            onMouseDown: startRec,\n            onMouseUp: stopRec,\n            onTouchStart: startRec,\n            onTouchEnd: stopRec,\n            children: recStatus === \"recording\" ? \"üõë RELEASE\" : \"üéôÔ∏è HOLD TO SPEAK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-btn\",\n            onClick: onBack,\n            children: \"BACK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cyber-button\",\n            onClick: handleAnalyze,\n            disabled: !mediaBlob,\n            children: \"ANALYZE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), (step === \"ANALYZING\" || step === \"MINTING\") && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"PROCESSING...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 66\n      }, this), step === \"REVIEW\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"I HEARD:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: transcribed,\n          onChange: e => setTranscribed(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"MEANING:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: clarification,\n          onChange: e => setClarification(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-btn\",\n            onClick: () => setStep(\"RECORD\"),\n            children: \"RETRY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cyber-button\",\n            onClick: handleSubmit,\n            children: \"MINT (+50 XP)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 312,\n    columnNumber: 9\n  }, this);\n}\n_s5(SharedGameLayout, \"FsqtF/7Z0DalCuDaRfIyqOiBO0A=\");\n_c6 = SharedGameLayout;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"HomeMenu\");\n$RefreshReg$(_c3, \"GameArchivist\");\n$RefreshReg$(_c4, \"GameSpeedChat\");\n$RefreshReg$(_c5, \"GameVisionQuest\");\n$RefreshReg$(_c6, \"SharedGameLayout\");","map":{"version":3,"names":["v4","uuidv4","React","useState","useEffect","useRef","useCallback","Client","useReactMediaRecorder","jsxDEV","_jsxDEV","Fragment","_Fragment","SPACE_URL","FALLBACK_DIALECTS","TONES","getDoodleUrl","k","getPhotoUrl","getRandom","arr","Math","floor","random","length","App","_s","activeGame","setActiveGame","userKey","setUserKey","xp","setXP","address","setAddress","dialects","setDialects","storedKey","localStorage","getItem","key","setItem","replace","slice","loadDialects","app","connect","res","predict","dList","JSON","parse","data","includes","push","className","children","fileName","_jsxFileName","lineNumber","columnNumber","HomeMenu","onSelect","GameArchivist","onBack","GameSpeedChat","GameVisionQuest","_c","onClick","_c2","_s2","mission","setMission","text","image","status","startRecording","stopRecording","mediaBlobUrl","audio","fetchM","SharedGameLayout","title","recStatus","startRec","stopRec","mediaBlob","mode","_c3","_s3","stage","setStage","nickname","setNickname","timeLeft","setTimeLeft","timerRef","current","setInterval","p","clearInterval","fetchMission","topic","value","onChange","e","target","placeholder","toUpperCase","timer","onNext","_c4","_s4","loadNewImage","keywords","_c5","_s5","step","setStep","transcribed","setTranscribed","clarification","setClarification","dialect","setDialect","customD","setCustomD","handleAnalyze","blob","fetch","then","r","d","tRes","cRes","cData","handleSubmit","style","backgroundImage","map","undefined","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","disabled","_c6","$RefreshReg$"],"sources":["C:/Users/toecm/Documents/PureConvo/pure-app/src/App.js"],"sourcesContent":["import { v4 as uuidv4 } from 'uuid';\r\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { Client } from \"@gradio/client\";\r\nimport { useReactMediaRecorder } from \"react-media-recorder\";\r\nimport './App.css';\r\n\r\n// --- CONFIG ---\r\nconst SPACE_URL = \"https://toecm-pureconvo.hf.space\"; \r\nconst FALLBACK_DIALECTS = [\"AfricanAmerican English\", \"NaijaPidgin English\", \"Nigerian English\", \"Indian English\", \"American English\", \"+ Add New Dialect\"];\r\nconst TONES = [\"Neutral\", \"Slang/Casual\", \"Formal\", \"Proverb\"];\r\n\r\n// --- ASSETS & HELPERS ---\r\nconst getDoodleUrl = (k) => `https://loremflickr.com/400/200/${k},sketch/all`;\r\nconst getPhotoUrl = (k) => `https://loremflickr.com/400/200/${k},street,city/all`; // Photorealistic for Game 3\r\nconst getRandom = (arr) => arr[Math.floor(Math.random() * arr.length)];\r\n\r\nfunction App() {\r\n  // === GLOBAL STATE (Shared across games) ===\r\n  const [activeGame, setActiveGame] = useState(\"HOME\"); // HOME, ARCHIVIST, CHAT, VISION\r\n  const [userKey, setUserKey] = useState(null);\r\n  const [xp, setXP] = useState(0);\r\n  const [address, setAddress] = useState(\"\");\r\n  const [dialects, setDialects] = useState([]);\r\n  \r\n  // === INIT (Run once) ===\r\n  useEffect(() => {\r\n    // 1. User ID\r\n    const storedKey = localStorage.getItem(\"pure_user_key\");\r\n    const key = storedKey || uuidv4();\r\n    if (!storedKey) localStorage.setItem(\"pure_user_key\", key);\r\n    setUserKey(key);\r\n    setAddress(\"0x\" + key.replace(/-/g, \"\").slice(0, 40));\r\n\r\n    // 2. Fetch Dialects\r\n    const loadDialects = async () => {\r\n        try {\r\n            const app = await Client.connect(SPACE_URL);\r\n            const res = await app.predict(\"/get_dialects\");\r\n            const dList = JSON.parse(res.data[0]);\r\n            if (!dList.includes(\"+ Add New Dialect\")) dList.push(\"+ Add New Dialect\");\r\n            setDialects(dList);\r\n        } catch { setDialects(FALLBACK_DIALECTS); }\r\n    };\r\n    loadDialects();\r\n  }, []);\r\n\r\n  // === RENDER ROUTER ===\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"cyber-container\">\r\n        {/* HUD HEADER */}\r\n        <div className=\"hud-header\">\r\n            <div className=\"xp-badge\">‚ú® {xp} XP</div>\r\n            <div className=\"status-badge\">MODE: {activeGame}</div>\r\n        </div>\r\n\r\n        {/* VIEW CONTROLLER */}\r\n        {activeGame === \"HOME\" && (\r\n            <HomeMenu onSelect={setActiveGame} />\r\n        )}\r\n        \r\n        {activeGame === \"ARCHIVIST\" && (\r\n            <GameArchivist \r\n                userKey={userKey} xp={xp} setXP={setXP} dialects={dialects} \r\n                onBack={() => setActiveGame(\"HOME\")} \r\n            />\r\n        )}\r\n\r\n        {activeGame === \"CHAT\" && (\r\n            <GameSpeedChat \r\n                userKey={userKey} xp={xp} setXP={setXP} dialects={dialects} \r\n                onBack={() => setActiveGame(\"HOME\")} \r\n            />\r\n        )}\r\n\r\n        {activeGame === \"VISION\" && (\r\n            <GameVisionQuest \r\n                userKey={userKey} xp={xp} setXP={setXP} dialects={dialects} \r\n                onBack={() => setActiveGame(\"HOME\")} \r\n            />\r\n        )}\r\n\r\n        {/* FOOTER */}\r\n        <div className=\"id-footer\">OPERATOR: {address.slice(0,6)}...</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// ==========================================\r\n// üè† COMPONENT: HOME MENU\r\n// ==========================================\r\nfunction HomeMenu({ onSelect }) {\r\n    return (\r\n        <div className=\"menu-grid\">\r\n            <div className=\"menu-card\" onClick={() => onSelect(\"ARCHIVIST\")}>\r\n                <div className=\"icon\">üìú</div>\r\n                <h3>The Archivist</h3>\r\n                <p>Relaxed Mode. Daily Journaling.</p>\r\n            </div>\r\n            <div className=\"menu-card highlight\" onClick={() => onSelect(\"CHAT\")}>\r\n                <div className=\"icon\">‚ö°</div>\r\n                <h3>Speed Chat</h3>\r\n                <p>10s Timer. Rapid Fire Topics.</p>\r\n            </div>\r\n            <div className=\"menu-card\" onClick={() => onSelect(\"VISION\")}>\r\n                <div className=\"icon\">üëÅÔ∏è</div>\r\n                <h3>Vision Quest</h3>\r\n                <p>Describe what you see.</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// ==========================================\r\n// üìú GAME 1: THE ARCHIVIST (Original)\r\n// ==========================================\r\nfunction GameArchivist({ userKey, setXP, dialects, onBack }) {\r\n    const [mission, setMission] = useState({ text: \"Loading...\", image: \"\" });\r\n    const { status, startRecording, stopRecording, mediaBlobUrl } = useReactMediaRecorder({ audio: true });\r\n    \r\n    // Fetch Mission Logic\r\n    useEffect(() => {\r\n        const fetchM = async () => {\r\n            try {\r\n                const app = await Client.connect(SPACE_URL);\r\n                const res = await app.predict(\"/generate_mission\", [\"Daily Life\"]);\r\n                const data = JSON.parse(res.data[0]);\r\n                setMission({ text: data.text, image: getDoodleUrl(\"coffee\") });\r\n            } catch { setMission({ text: \"Describe your morning routine.\", image: getDoodleUrl(\"coffee\") }); }\r\n        };\r\n        fetchM();\r\n    }, []);\r\n\r\n    return (\r\n        <SharedGameLayout\r\n            title=\"ARCHIVE ENTRY\"\r\n            mission={mission}\r\n            recStatus={status}\r\n            startRec={startRecording}\r\n            stopRec={stopRecording}\r\n            mediaBlob={mediaBlobUrl}\r\n            dialects={dialects}\r\n            userKey={userKey}\r\n            setXP={setXP}\r\n            onBack={onBack}\r\n            mode=\"relaxed\"\r\n        />\r\n    );\r\n}\r\n\r\n// ==========================================\r\n// ‚ö° GAME 2: SPEED CHAT (The 10s Timer)\r\n// ==========================================\r\nfunction GameSpeedChat({ userKey, setXP, dialects, onBack }) {\r\n    const [stage, setStage] = useState(\"onboarding\"); // onboarding -> challenge\r\n    const [nickname, setNickname] = useState(localStorage.getItem(\"pure_nickname\") || \"\");\r\n    const [mission, setMission] = useState({ text: \"\", image: \"\" });\r\n    const [timeLeft, setTimeLeft] = useState(10);\r\n    \r\n    const { status, startRecording, stopRecording, mediaBlobUrl } = useReactMediaRecorder({ audio: true });\r\n    const timerRef = useRef(null);\r\n\r\n    // Timer Logic\r\n    useEffect(() => {\r\n        if (status === \"recording\") {\r\n            setTimeLeft(10);\r\n            timerRef.current = setInterval(() => {\r\n                setTimeLeft(p => {\r\n                    if (p <= 1) { stopRecording(); return 0; }\r\n                    return p - 1;\r\n                });\r\n            }, 1000);\r\n        } else { clearInterval(timerRef.current); }\r\n        return () => clearInterval(timerRef.current);\r\n    }, [status, stopRecording]);\r\n\r\n    // Mission Fetcher\r\n    const fetchMission = async (topic) => {\r\n        setMission({ text: \"Incoming...\", image: \"\" });\r\n        try {\r\n            const app = await Client.connect(SPACE_URL);\r\n            const res = await app.predict(\"/generate_mission\", [`Ask ${nickname} about ${topic}`]);\r\n            const data = JSON.parse(res.data[0]);\r\n            setMission({ text: data.text, image: getDoodleUrl(topic) });\r\n        } catch { \r\n            setMission({ text: `Hey ${nickname}, tell me about ${topic}!`, image: getDoodleUrl(topic) }); \r\n        }\r\n    };\r\n\r\n    if (stage === \"onboarding\" && !nickname) {\r\n        return (\r\n            <div className=\"onboarding-screen\">\r\n                <h3>IDENTIFY YOURSELF</h3>\r\n                <input className=\"cyber-input\" value={nickname} onChange={e => setNickname(e.target.value)} placeholder=\"Enter Codename\" />\r\n                <button className=\"cyber-button\" onClick={() => {\r\n                    localStorage.setItem(\"pure_nickname\", nickname);\r\n                    setStage(\"challenge\");\r\n                    fetchMission(\"Hobbies\");\r\n                }}>START</button>\r\n                <button className=\"cancel-btn\" onClick={onBack}>EXIT</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <SharedGameLayout\r\n            title={`CHAT WITH ${nickname ? nickname.toUpperCase() : 'USER'}`}\r\n            mission={mission}\r\n            recStatus={status}\r\n            startRec={startRecording}\r\n            stopRec={stopRecording}\r\n            mediaBlob={mediaBlobUrl}\r\n            dialects={dialects}\r\n            userKey={userKey}\r\n            setXP={setXP}\r\n            onBack={onBack}\r\n            timer={timeLeft} // Pass timer\r\n            onNext={() => fetchMission(getRandom([\"Food\", \"Traffic\", \"Music\", \"Money\"]))} // Infinite Loop\r\n        />\r\n    );\r\n}\r\n\r\n// ==========================================\r\n// üëÅÔ∏è GAME 3: VISION QUEST (Describe Image)\r\n// ==========================================\r\nfunction GameVisionQuest({ userKey, setXP, dialects, onBack }) {\r\n    const [mission, setMission] = useState({ text: \"Loading...\", image: \"\" });\r\n    const { status, startRecording, stopRecording, mediaBlobUrl } = useReactMediaRecorder({ audio: true });\r\n\r\n    const loadNewImage = () => {\r\n        const keywords = [\"market\", \"street\", \"festival\", \"classroom\", \"kitchen\", \"traffic\"];\r\n        const k = getRandom(keywords);\r\n        setMission({\r\n            text: \"Describe exactly what you see in this image. Be specific.\",\r\n            image: getPhotoUrl(k) // Uses the 'photo' helper, not doodle\r\n        });\r\n    };\r\n\r\n    useEffect(() => { loadNewImage(); }, []);\r\n\r\n    return (\r\n        <SharedGameLayout\r\n            title=\"OBSERVATION DECK\"\r\n            mission={mission}\r\n            recStatus={status}\r\n            startRec={startRecording}\r\n            stopRec={stopRecording}\r\n            mediaBlob={mediaBlobUrl}\r\n            dialects={dialects}\r\n            userKey={userKey}\r\n            setXP={setXP}\r\n            onBack={onBack}\r\n            onNext={loadNewImage} // Next image on success\r\n            mode=\"vision\"\r\n        />\r\n    );\r\n}\r\n\r\n// ==========================================\r\n// ‚öôÔ∏è SHARED GAME LAYOUT (The Engine)\r\n// ==========================================\r\nfunction SharedGameLayout({ title, mission, recStatus, startRec, stopRec, mediaBlob, dialects, userKey, setXP, onBack, onNext, timer, mode }) {\r\n    const [step, setStep] = useState(\"RECORD\"); // RECORD -> REVIEW\r\n    const [transcribed, setTranscribed] = useState(\"\");\r\n    const [clarification, setClarification] = useState(\"\");\r\n    const [dialect, setDialect] = useState(dialects[0] || \"General\");\r\n    const [customD, setCustomD] = useState(\"\");\r\n\r\n    const handleAnalyze = async () => {\r\n        if (!mediaBlob) return;\r\n        setStep(\"ANALYZING\");\r\n        try {\r\n            const blob = await fetch(mediaBlob).then(r => r.blob());\r\n            const app = await Client.connect(SPACE_URL);\r\n            const d = dialect === \"+ Add New Dialect\" ? customD : dialect;\r\n            \r\n            const tRes = await app.predict(\"/transcribe_check\", [blob, d]);\r\n            setTranscribed(tRes.data[0]);\r\n            \r\n            const cRes = await app.predict(\"/generate_clarifications\", [tRes.data[0], d]);\r\n            const cData = JSON.parse(cRes.data[0]);\r\n            setClarification(cData.clarification || \"\");\r\n            \r\n            setStep(\"REVIEW\");\r\n        } catch { setStep(\"REVIEW\"); setTranscribed(\"Error.\"); }\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        setStep(\"MINTING\");\r\n        try {\r\n            const blob = await fetch(mediaBlob).then(r => r.blob());\r\n            const app = await Client.connect(SPACE_URL);\r\n            const d = dialect === \"+ Add New Dialect\" ? customD : dialect;\r\n            \r\n            await app.predict(\"/check_and_submit_logic\", [\r\n                transcribed, dialect, customD, clarification, \"Neutral\", \"Game\", \"None\", userKey, blob, false\r\n            ]);\r\n            setXP(p => p + 50);\r\n            \r\n            // IF INFINITE MODE, NEXT ROUND. ELSE BACK TO HOME.\r\n            if (onNext) {\r\n                setStep(\"RECORD\");\r\n                onNext(); \r\n            } else {\r\n                onBack();\r\n            }\r\n        } catch { setStep(\"RECORD\"); }\r\n    };\r\n\r\n    return (\r\n        <div className=\"game-layout\">\r\n            <div className=\"mission-card\">\r\n                <div className=\"doodle-bg\" style={{backgroundImage: `url(${mission.image})`}} />\r\n                <div className=\"mission-content-overlay\">\r\n                    <div>\r\n                        <h3>{title}</h3>\r\n                        <p>{mission.text}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"control-panel\">\r\n                {step === \"RECORD\" && (\r\n                    <>\r\n                        <div className=\"dialect-selector\">\r\n                            <select value={dialect} onChange={e => setDialect(e.target.value)}>\r\n                                {dialects.map(d => <option key={d} value={d}>{d}</option>)}\r\n                            </select>\r\n                            {dialect === \"+ Add New Dialect\" && (\r\n                                <input className=\"cyber-input\" placeholder=\"Dialect Name\" value={customD} onChange={e => setCustomD(e.target.value)} />\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className={`record-zone ${recStatus === \"recording\" ? \"active\" : \"\"}`}>\r\n                            {timer !== undefined && recStatus === \"recording\" && <div className=\"timer\">{timer}s</div>}\r\n                            <button \r\n                                className={`record-btn ${recStatus === \"recording\" ? \"pulsing\" : \"\"}`}\r\n                                onMouseDown={startRec} onMouseUp={stopRec}\r\n                                onTouchStart={startRec} onTouchEnd={stopRec}\r\n                            >\r\n                                {recStatus === \"recording\" ? \"üõë RELEASE\" : \"üéôÔ∏è HOLD TO SPEAK\"}\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"action-row\">\r\n                             <button className=\"cancel-btn\" onClick={onBack}>BACK</button>\r\n                             <button className=\"cyber-button\" onClick={handleAnalyze} disabled={!mediaBlob}>ANALYZE</button>\r\n                        </div>\r\n                    </>\r\n                )}\r\n\r\n                {(step === \"ANALYZING\" || step === \"MINTING\") && <div className=\"loading\">PROCESSING...</div>}\r\n\r\n                {step === \"REVIEW\" && (\r\n                    <div className=\"review-box\">\r\n                        <label>I HEARD:</label>\r\n                        <textarea value={transcribed} onChange={e => setTranscribed(e.target.value)} />\r\n                        <label>MEANING:</label>\r\n                        <textarea value={clarification} onChange={e => setClarification(e.target.value)} />\r\n                        <div className=\"action-row\">\r\n                            <button className=\"cancel-btn\" onClick={() => setStep(\"RECORD\")}>RETRY</button>\r\n                            <button className=\"cyber-button\" onClick={handleSubmit}>MINT (+50 XP)</button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}