{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\toecm\\\\Documents\\\\PureConvo\\\\pure-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport { v4 as uuidv4 } from 'uuid';\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Client } from \"@gradio/client\";\nimport { useReactMediaRecorder } from \"react-media-recorder\";\nimport './App.css';\n\n// --- CONFIGURATION ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SPACE_URL = \"https://toecm-pureconvo.hf.space\";\nconst FALLBACK_DIALECTS = [\"AfricanAmerican English\", \"NaijaPidgin English\", \"Nigerian English\", \"Indian English\", \"American English\", \"+ Add New Dialect\"];\nconst TONES = [\"Neutral / Conversational\", \"Casual / Slang\", \"Formal / Professional\", \"Proverb / Idiom\"];\n\n// --- GREETINGS & PRIVACY ---\nconst NEW_GREETINGS = [\"Hello!\", \"Hi there!\", \"Greetings!\", \"Ready?\", \"Salutations!\", \"Welcome!\"];\nconst RETURNING_GREETINGS = [\"Welcome back!\", \"Good to see you again!\", \"Ready for another round?\", \"Hello again!\", \"Back for more?\", \"Resuming session!\"];\nconst PRIVACY_STATEMENTS = [\"Rest easy‚Äîwe collect sounds, not names.\", \"Your voice is a contribution; your identity is your own.\", \"Encrypted, anonymous, and essential.\", \"No profiles, no tracking. Just your unique voice.\", \"Powering the future of linguistics, one anonymous clip at a time.\", \"Speak your mind. We‚Äôll keep the secret.\"];\n\n// --- ASSETS & HELPERS ---\nconst getDoodleUrl = k => `https://loremflickr.com/400/200/${k},sketch/all`;\nconst getPhotoUrl = k => `https://loremflickr.com/400/200/${k},street,city/all`;\nconst getRandom = arr => arr[Math.floor(Math.random() * arr.length)];\nfunction App() {\n  _s();\n  // === GLOBAL STATE ===\n  const [activeGame, setActiveGame] = useState(\"HOME\"); // HOME, ARCHIVIST, CHAT, VISION\n  const [userKey, setUserKey] = useState(null);\n  const [xp, setXP] = useState(0);\n  const [address, setAddress] = useState(\"\");\n  const [dialects, setDialects] = useState([]);\n  const [greeting, setGreeting] = useState(\"\");\n\n  // === INITIALIZATION ===\n  useEffect(() => {\n    // 1. User Identification\n    const storedKey = localStorage.getItem(\"pure_user_key\");\n    const key = storedKey || uuidv4();\n    if (!storedKey) localStorage.setItem(\"pure_user_key\", key);\n    setUserKey(key);\n    setAddress(\"0x\" + key.replace(/-/g, \"\").slice(0, 40));\n\n    // 2. Generate Session Greeting\n    const greetList = storedKey ? RETURNING_GREETINGS : NEW_GREETINGS;\n    setGreeting(`${getRandom(greetList)} ${getRandom(PRIVACY_STATEMENTS)}`);\n\n    // 3. Fetch Dialects\n    const loadDialects = async () => {\n      try {\n        const app = await Client.connect(SPACE_URL);\n        const res = await app.predict(\"/get_dialects\");\n        const dList = JSON.parse(res.data[0]);\n        if (!dList.includes(\"+ Add New Dialect\")) dList.push(\"+ Add New Dialect\");\n        setDialects(dList);\n      } catch {\n        setDialects(FALLBACK_DIALECTS);\n      }\n    };\n    loadDialects();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cyber-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hud-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"xp-badge\",\n          children: [\"\\u2728 \", xp, \" XP\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status-badge\",\n          children: [\"MODE: \", activeGame]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), activeGame === \"HOME\" && /*#__PURE__*/_jsxDEV(HomeMenu, {\n        onSelect: setActiveGame,\n        greeting: greeting\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), activeGame === \"ARCHIVIST\" && /*#__PURE__*/_jsxDEV(GameArchivist, {\n        userKey: userKey,\n        setXP: setXP,\n        dialects: dialects,\n        onBack: () => setActiveGame(\"HOME\"),\n        greeting: greeting\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this), activeGame === \"CHAT\" && /*#__PURE__*/_jsxDEV(GameSpeedChat, {\n        userKey: userKey,\n        setXP: setXP,\n        dialects: dialects,\n        onBack: () => setActiveGame(\"HOME\"),\n        greeting: greeting\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this), activeGame === \"VISION\" && /*#__PURE__*/_jsxDEV(GameVisionQuest, {\n        userKey: userKey,\n        setXP: setXP,\n        dialects: dialects,\n        onBack: () => setActiveGame(\"HOME\"),\n        greeting: greeting\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"id-footer\",\n        onClick: () => {\n          navigator.clipboard.writeText(userKey);\n          alert(\"Copied ID\");\n        },\n        children: [\"OPERATOR: \", address.slice(0, 6), \"... (Tap to Copy ID)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n// ==========================================\n// üè† HOME MENU \n// ==========================================\n_s(App, \"zv3Y/ShIl71guu9XG99pn8dmqTg=\");\n_c = App;\nfunction HomeMenu({\n  onSelect,\n  greeting\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-layout\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"welcome-banner\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: greeting\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-card\",\n        onClick: () => onSelect(\"ARCHIVIST\"),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"icon\",\n          children: \"\\uD83D\\uDCDC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"The Archivist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Relaxed. Daily Journaling.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-card highlight\",\n        onClick: () => onSelect(\"CHAT\"),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"icon\",\n          children: \"\\u26A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Speed Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"10s Timer. Rapid Fire.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-card\",\n        onClick: () => onSelect(\"VISION\"),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"icon\",\n          children: \"\\uD83D\\uDC41\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Vision Quest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Describe what you see.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 9\n  }, this);\n}\n\n// ==========================================\n// üìú GAME 1: THE ARCHIVIST (Infinite Loop + Safety Text)\n// ==========================================\n_c2 = HomeMenu;\nfunction GameArchivist({\n  userKey,\n  setXP,\n  dialects,\n  onBack,\n  greeting\n}) {\n  _s2();\n  const [mission, setMission] = useState({\n    text: greeting,\n    subtext: \"Retrieving Archive Topic...\",\n    image: getDoodleUrl(\"abstract\")\n  });\n  const {\n    status,\n    startRecording,\n    stopRecording,\n    mediaBlobUrl\n  } = useReactMediaRecorder({\n    audio: true,\n    blobPropertyBag: {\n      type: \"audio/wav\"\n    } // üü¢ FORCE WAV FORMAT\n  });\n\n  // üü¢ INFINITE LOOP LOGIC FOR ARCHIVIST\n  const loadNextTopic = async () => {\n    const topics = [\"Daily Life\", \"Food\", \"Weather\", \"Childhood\", \"Hobbies\", \"Weekend Plans\", \"Family\"];\n    const randomTopic = getRandom(topics);\n\n    // Show loading state with topic\n    setMission(prev => ({\n      ...prev,\n      subtext: `Loading Topic: ${randomTopic}...`\n    }));\n    try {\n      const app = await Client.connect(SPACE_URL);\n      const res = await app.predict(\"/generate_mission\", [randomTopic]);\n      const data = JSON.parse(res.data[0]);\n      setMission({\n        text: data.text,\n        subtext: \"Journal Entry ‚Ä¢ Keep it short (1 sentence)\",\n        // üü¢ SAFETY REMINDER\n        image: getDoodleUrl(randomTopic)\n      });\n    } catch {\n      setMission({\n        text: `Tell me a short sentence about your ${randomTopic.toLowerCase()}.`,\n        subtext: \"Offline Mode ‚Ä¢ Keep it short (1 sentence)\",\n        image: getDoodleUrl(\"coffee\")\n      });\n    }\n  };\n\n  // Load first topic on mount\n  useEffect(() => {\n    loadNextTopic();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(SharedGameLayout, {\n    title: \"ARCHIVE ENTRY\",\n    mission: mission,\n    recStatus: status,\n    startRec: startRecording,\n    stopRec: stopRecording,\n    mediaBlob: mediaBlobUrl,\n    dialects: dialects,\n    userKey: userKey,\n    setXP: setXP,\n    onBack: onBack,\n    onNext: loadNextTopic // üü¢ Pass loop function\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 9\n  }, this);\n}\n\n// ==========================================\n// ‚ö° GAME 2: SPEED CHAT (Infinite Loop + Timer)\n// ==========================================\n_s2(GameArchivist, \"8B0hwIqox8tTZei7zBgDsP5Xq3s=\", false, function () {\n  return [useReactMediaRecorder];\n});\n_c3 = GameArchivist;\nfunction GameSpeedChat({\n  userKey,\n  setXP,\n  dialects,\n  onBack,\n  greeting\n}) {\n  _s3();\n  const [stage, setStage] = useState(\"onboarding\");\n  const [nickname, setNickname] = useState(localStorage.getItem(\"pure_nickname\") || \"\");\n  const [mission, setMission] = useState({\n    text: greeting,\n    subtext: \"Establishing Secure Link...\",\n    image: getDoodleUrl(\"network\")\n  });\n  const [timeLeft, setTimeLeft] = useState(10);\n  const {\n    status,\n    startRecording,\n    stopRecording,\n    mediaBlobUrl\n  } = useReactMediaRecorder({\n    audio: true,\n    blobPropertyBag: {\n      type: \"audio/wav\"\n    } // üü¢ FORCE WAV FORMAT\n  });\n  const timerRef = useRef(null);\n\n  // Timer Logic\n  useEffect(() => {\n    if (status === \"recording\") {\n      setTimeLeft(10);\n      timerRef.current = setInterval(() => {\n        setTimeLeft(p => {\n          if (p <= 1) {\n            stopRecording();\n            return 0;\n          }\n          return p - 1;\n        });\n      }, 1000);\n    } else {\n      clearInterval(timerRef.current);\n    }\n    return () => clearInterval(timerRef.current);\n  }, [status, stopRecording]);\n  const fetchMission = async topic => {\n    setMission(prev => ({\n      ...prev,\n      text: greeting,\n      subtext: `Loading Topic: ${topic}...`\n    }));\n    try {\n      const app = await Client.connect(SPACE_URL);\n      const res = await app.predict(\"/generate_mission\", [`Ask ${nickname} about ${topic}`]);\n      const data = JSON.parse(res.data[0]);\n      setMission({\n        text: data.text,\n        subtext: `Target: ${topic}`,\n        image: getDoodleUrl(topic)\n      });\n    } catch {\n      setMission({\n        text: `Hey ${nickname}, tell me about ${topic}!`,\n        subtext: \"Offline Mode\",\n        image: getDoodleUrl(topic)\n      });\n    }\n  };\n  if (stage === \"onboarding\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"onboarding-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"IDENTIFY YOURSELF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"cyber-input\",\n        value: nickname,\n        onChange: e => setNickname(e.target.value),\n        placeholder: \"Enter Codename\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cyber-button\",\n          onClick: () => {\n            if (!nickname) return;\n            localStorage.setItem(\"pure_nickname\", nickname);\n            setStage(\"challenge\");\n            fetchMission(\"Hobbies\");\n          },\n          children: \"START MISSION\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel-btn\",\n          onClick: onBack,\n          children: \"RETURN TO BASE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(SharedGameLayout, {\n    title: `CHAT: ${nickname.toUpperCase()}`,\n    mission: mission,\n    recStatus: status,\n    startRec: startRecording,\n    stopRec: stopRecording,\n    mediaBlob: mediaBlobUrl,\n    dialects: dialects,\n    userKey: userKey,\n    setXP: setXP,\n    onBack: onBack,\n    timer: timeLeft,\n    onNext: () => fetchMission(getRandom([\"Food\", \"Traffic\", \"Music\", \"Money\", \"Work\", \"School\", \"Family\", \"Dreams\"]))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 282,\n    columnNumber: 9\n  }, this);\n}\n\n// ==========================================\n// üëÅÔ∏è GAME 3: VISION QUEST (Clean View + Infinite)\n// ==========================================\n_s3(GameSpeedChat, \"PQJxhmNEGUK75mNeaduVtOuE2tM=\", false, function () {\n  return [useReactMediaRecorder];\n});\n_c4 = GameSpeedChat;\nfunction GameVisionQuest({\n  userKey,\n  setXP,\n  dialects,\n  onBack,\n  greeting\n}) {\n  _s4();\n  const [mission, setMission] = useState({\n    text: greeting,\n    subtext: \"Calibrating Optical Sensors...\",\n    image: getPhotoUrl(\"cyberpunk\")\n  });\n\n  // Inside GameVisionQuest\n  const {\n    status,\n    startRecording,\n    stopRecording,\n    mediaBlobUrl\n  } = useReactMediaRecorder({\n    audio: true,\n    blobPropertyBag: {\n      type: \"audio/wav\"\n    } // üü¢ FORCE WAV FORMAT\n  });\n  const loadNewImage = () => {\n    const keywords = [\"market\", \"street\", \"festival\", \"classroom\", \"kitchen\", \"traffic\", \"cyberpunk\", \"park\", \"office\"];\n    const k = getRandom(keywords);\n    setMission({\n      text: \"Describe exactly what you see in this image. Be specific.\",\n      subtext: `Target Sector: ${k.toUpperCase()}`,\n      image: getPhotoUrl(k)\n    });\n  };\n\n  // Load initial image (user sees greeting briefly then this loads)\n  useEffect(() => {\n    setTimeout(loadNewImage, 2500);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(SharedGameLayout, {\n    title: \"OBSERVATION DECK\",\n    mission: mission,\n    recStatus: status,\n    startRec: startRecording,\n    stopRec: stopRecording,\n    mediaBlob: mediaBlobUrl,\n    dialects: dialects,\n    userKey: userKey,\n    setXP: setXP,\n    onBack: onBack,\n    onNext: loadNewImage,\n    mode: \"vision\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 331,\n    columnNumber: 9\n  }, this);\n}\n\n// ==========================================\n// ‚öôÔ∏è SHARED GAME LAYOUT (THE ENGINE)\n// ==========================================\n_s4(GameVisionQuest, \"mr5IWmweFOnIMW57cjXk2owKHCs=\", false, function () {\n  return [useReactMediaRecorder];\n});\n_c5 = GameVisionQuest;\nfunction SharedGameLayout({\n  title,\n  mission,\n  recStatus,\n  startRec,\n  stopRec,\n  mediaBlob,\n  dialects,\n  userKey,\n  setXP,\n  onBack,\n  onNext,\n  timer,\n  mode\n}) {\n  _s5();\n  const [step, setStep] = useState(\"RECORD\");\n\n  // Data State\n  const [transcribed, setTranscribed] = useState(\"\");\n  const [clarification, setClarification] = useState(\"\");\n  const [tone, setTone] = useState(\"Neutral / Conversational\");\n  const [context, setContext] = useState(\"General\");\n  const [pragmatics, setPragmatics] = useState(\"\");\n  const [dialect, setDialect] = useState(dialects[0] || \"General\");\n  const [customD, setCustomD] = useState(\"\");\n  const handleAnalyze = async () => {\n    if (!mediaBlob) return;\n    setStep(\"ANALYZING\");\n    try {\n      const blob = await fetch(mediaBlob).then(r => r.blob());\n      const app = await Client.connect(SPACE_URL);\n      const d = dialect === \"+ Add New Dialect\" ? customD : dialect;\n      const tRes = await app.predict(\"/transcribe_check\", [blob, d]);\n      setTranscribed(tRes.data[0]);\n      const cRes = await app.predict(\"/generate_clarifications\", [tRes.data[0], d]);\n      const cData = JSON.parse(cRes.data[0]);\n      setClarification(cData.clarification || cData.Meaning || \"\");\n      setContext(cData.context || \"General\");\n      setPragmatics(cData.pragmatics || \"\");\n      setStep(\"REVIEW\");\n    } catch (e) {\n      console.error(\"ANALYSIS FAILED:\", e); // üü¢ LOG ERROR TO CONSOLE\n      setStep(\"REVIEW\");\n      setTranscribed(`Error: ${e.message || \"Connection Failed\"}.`); // üü¢ SHOW REAL ERROR\n    }\n  };\n  const handleSubmit = async () => {\n    setStep(\"MINTING\");\n    try {\n      const blob = await fetch(mediaBlob).then(r => r.blob());\n      const app = await Client.connect(SPACE_URL);\n      const d = dialect === \"+ Add New Dialect\" ? customD : dialect;\n      await app.predict(\"/check_and_submit_logic\", [transcribed, d, customD, clarification, tone, context, pragmatics, userKey, blob, false]);\n      setXP(p => p + 50);\n      if (onNext) {\n        setStep(\"RECORD\");\n        setTranscribed(\"\");\n        setClarification(\"\");\n        onNext();\n      } else {\n        onBack();\n      }\n    } catch {\n      setStep(\"RECORD\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-layout\",\n    children: [mode === \"vision\" ?\n    /*#__PURE__*/\n    // VISION MODE (Clean Layout)\n    _jsxDEV(\"div\", {\n      className: \"vision-mode-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"vision-image\",\n        style: {\n          backgroundImage: `url(${mission.image})`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"vision-text-block\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 25\n        }, this), mission.subtext && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"subtext\",\n          children: mission.subtext\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 45\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"main-text\",\n          children: mission.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 17\n    }, this) :\n    /*#__PURE__*/\n    // ARCHIVIST/CHAT MODE (Overlay Layout)\n    _jsxDEV(\"div\", {\n      className: \"mission-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"doodle-bg\",\n        style: {\n          backgroundImage: `url(${mission.image})`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mission-content-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 29\n          }, this), mission.subtext && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '0.8em',\n              opacity: 0.7,\n              marginBottom: '5px'\n            },\n            children: mission.subtext\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 49\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: mission.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control-panel\",\n      children: [step === \"RECORD\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dialect-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: '11px',\n              color: '#94a3b8',\n              display: 'block',\n              marginBottom: '6px',\n              letterSpacing: '1px',\n              fontWeight: '600'\n            },\n            children: \"SELECT TARGET DIALECT (OR ADD NEW):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: dialect,\n            onChange: e => setDialect(e.target.value),\n            children: dialects.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: d,\n              children: d\n            }, d, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 52\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 29\n          }, this), dialect === \"+ Add New Dialect\" && /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"cyber-input\",\n            placeholder: \"Enter Name (e.g. Toronto Slang)\",\n            value: customD,\n            onChange: e => setCustomD(e.target.value),\n            style: {\n              marginTop: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `record-zone ${recStatus === \"recording\" ? \"active\" : \"\"}`,\n          children: [timer !== undefined && recStatus === \"recording\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timer\",\n            children: [timer, \"s\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 82\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `record-btn ${recStatus === \"recording\" ? \"pulsing\" : \"\"}`,\n            onMouseDown: startRec,\n            onMouseUp: stopRec,\n            onTouchStart: startRec,\n            onTouchEnd: stopRec,\n            children: recStatus === \"recording\" ? \"üõë RELEASE\" : \"üéôÔ∏è HOLD TO SPEAK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-btn\",\n            onClick: onBack,\n            children: \"BACK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cyber-button\",\n            onClick: handleAnalyze,\n            disabled: !mediaBlob,\n            children: \"ANALYZE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), (step === \"ANALYZING\" || step === \"MINTING\") && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"PROCESSING...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 66\n      }, this), step === \"REVIEW\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"audio-preview\",\n          style: {\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: '10px',\n              color: '#94a3b8',\n              display: 'block',\n              marginBottom: '5px'\n            },\n            children: \"REVIEW RECORDING:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n            src: mediaBlob,\n            controls: true,\n            style: {\n              width: '100%',\n              borderRadius: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"I HEARD:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: transcribed,\n            onChange: e => setTranscribed(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"MEANING:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: clarification,\n            onChange: e => setClarification(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"TONE:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: tone,\n            onChange: e => setTone(e.target.value),\n            children: TONES.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: t,\n              children: t\n            }, t, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 49\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-btn\",\n            onClick: () => setStep(\"RECORD\"),\n            children: \"RETRY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cyber-button\",\n            onClick: handleSubmit,\n            children: \"MINT (+50 XP)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 413,\n    columnNumber: 9\n  }, this);\n}\n_s5(SharedGameLayout, \"ZMz1qIf6LNBVlHzJKoaYFWONDSM=\");\n_c6 = SharedGameLayout;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"HomeMenu\");\n$RefreshReg$(_c3, \"GameArchivist\");\n$RefreshReg$(_c4, \"GameSpeedChat\");\n$RefreshReg$(_c5, \"GameVisionQuest\");\n$RefreshReg$(_c6, \"SharedGameLayout\");","map":{"version":3,"names":["v4","uuidv4","React","useState","useEffect","useRef","Client","useReactMediaRecorder","jsxDEV","_jsxDEV","Fragment","_Fragment","SPACE_URL","FALLBACK_DIALECTS","TONES","NEW_GREETINGS","RETURNING_GREETINGS","PRIVACY_STATEMENTS","getDoodleUrl","k","getPhotoUrl","getRandom","arr","Math","floor","random","length","App","_s","activeGame","setActiveGame","userKey","setUserKey","xp","setXP","address","setAddress","dialects","setDialects","greeting","setGreeting","storedKey","localStorage","getItem","key","setItem","replace","slice","greetList","loadDialects","app","connect","res","predict","dList","JSON","parse","data","includes","push","className","children","fileName","_jsxFileName","lineNumber","columnNumber","HomeMenu","onSelect","GameArchivist","onBack","GameSpeedChat","GameVisionQuest","onClick","navigator","clipboard","writeText","alert","_c","_c2","_s2","mission","setMission","text","subtext","image","status","startRecording","stopRecording","mediaBlobUrl","audio","blobPropertyBag","type","loadNextTopic","topics","randomTopic","prev","toLowerCase","SharedGameLayout","title","recStatus","startRec","stopRec","mediaBlob","onNext","_c3","_s3","stage","setStage","nickname","setNickname","timeLeft","setTimeLeft","timerRef","current","setInterval","p","clearInterval","fetchMission","topic","value","onChange","e","target","placeholder","style","marginTop","toUpperCase","timer","_c4","_s4","loadNewImage","keywords","setTimeout","mode","_c5","_s5","step","setStep","transcribed","setTranscribed","clarification","setClarification","tone","setTone","context","setContext","pragmatics","setPragmatics","dialect","setDialect","customD","setCustomD","handleAnalyze","blob","fetch","then","r","d","tRes","cRes","cData","Meaning","console","error","message","handleSubmit","backgroundImage","fontSize","opacity","marginBottom","color","display","letterSpacing","fontWeight","map","undefined","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","disabled","src","controls","width","borderRadius","t","_c6","$RefreshReg$"],"sources":["C:/Users/toecm/Documents/PureConvo/pure-app/src/App.js"],"sourcesContent":["import { v4 as uuidv4 } from 'uuid';\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { Client } from \"@gradio/client\";\r\nimport { useReactMediaRecorder } from \"react-media-recorder\";\r\nimport './App.css';\r\n\r\n// --- CONFIGURATION ---\r\nconst SPACE_URL = \"https://toecm-pureconvo.hf.space\"; \r\nconst FALLBACK_DIALECTS = [\r\n    \"AfricanAmerican English\", \r\n    \"NaijaPidgin English\", \r\n    \"Nigerian English\", \r\n    \"Indian English\", \r\n    \"American English\", \r\n    \"+ Add New Dialect\"\r\n];\r\nconst TONES = [\"Neutral / Conversational\", \"Casual / Slang\", \"Formal / Professional\", \"Proverb / Idiom\"];\r\n\r\n// --- GREETINGS & PRIVACY ---\r\nconst NEW_GREETINGS = [\"Hello!\", \"Hi there!\", \"Greetings!\", \"Ready?\", \"Salutations!\", \"Welcome!\"];\r\nconst RETURNING_GREETINGS = [\"Welcome back!\", \"Good to see you again!\", \"Ready for another round?\", \"Hello again!\", \"Back for more?\", \"Resuming session!\"];\r\nconst PRIVACY_STATEMENTS = [\r\n    \"Rest easy‚Äîwe collect sounds, not names.\", \r\n    \"Your voice is a contribution; your identity is your own.\",\r\n    \"Encrypted, anonymous, and essential.\", \r\n    \"No profiles, no tracking. Just your unique voice.\",\r\n    \"Powering the future of linguistics, one anonymous clip at a time.\", \r\n    \"Speak your mind. We‚Äôll keep the secret.\"\r\n];\r\n\r\n// --- ASSETS & HELPERS ---\r\nconst getDoodleUrl = (k) => `https://loremflickr.com/400/200/${k},sketch/all`;\r\nconst getPhotoUrl = (k) => `https://loremflickr.com/400/200/${k},street,city/all`; \r\nconst getRandom = (arr) => arr[Math.floor(Math.random() * arr.length)];\r\n\r\nfunction App() {\r\n  // === GLOBAL STATE ===\r\n  const [activeGame, setActiveGame] = useState(\"HOME\"); // HOME, ARCHIVIST, CHAT, VISION\r\n  const [userKey, setUserKey] = useState(null);\r\n  const [xp, setXP] = useState(0);\r\n  const [address, setAddress] = useState(\"\");\r\n  const [dialects, setDialects] = useState([]);\r\n  const [greeting, setGreeting] = useState(\"\"); \r\n\r\n  // === INITIALIZATION ===\r\n  useEffect(() => {\r\n    // 1. User Identification\r\n    const storedKey = localStorage.getItem(\"pure_user_key\");\r\n    const key = storedKey || uuidv4();\r\n    if (!storedKey) localStorage.setItem(\"pure_user_key\", key);\r\n    setUserKey(key);\r\n    setAddress(\"0x\" + key.replace(/-/g, \"\").slice(0, 40));\r\n\r\n    // 2. Generate Session Greeting\r\n    const greetList = storedKey ? RETURNING_GREETINGS : NEW_GREETINGS;\r\n    setGreeting(`${getRandom(greetList)} ${getRandom(PRIVACY_STATEMENTS)}`);\r\n\r\n    // 3. Fetch Dialects\r\n    const loadDialects = async () => {\r\n        try {\r\n            const app = await Client.connect(SPACE_URL);\r\n            const res = await app.predict(\"/get_dialects\");\r\n            const dList = JSON.parse(res.data[0]);\r\n            if (!dList.includes(\"+ Add New Dialect\")) dList.push(\"+ Add New Dialect\");\r\n            setDialects(dList);\r\n        } catch { setDialects(FALLBACK_DIALECTS); }\r\n    };\r\n    loadDialects();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"cyber-container\">\r\n        {/* HUD HEADER */}\r\n        <div className=\"hud-header\">\r\n            <div className=\"xp-badge\">‚ú® {xp} XP</div>\r\n            <div className=\"status-badge\">MODE: {activeGame}</div>\r\n        </div>\r\n\r\n        {/* VIEW CONTROLLER */}\r\n        {activeGame === \"HOME\" && (\r\n            <HomeMenu onSelect={setActiveGame} greeting={greeting} />\r\n        )}\r\n        \r\n        {activeGame === \"ARCHIVIST\" && (\r\n            <GameArchivist \r\n                userKey={userKey} setXP={setXP} dialects={dialects} \r\n                onBack={() => setActiveGame(\"HOME\")} \r\n                greeting={greeting} \r\n            />\r\n        )}\r\n\r\n        {activeGame === \"CHAT\" && (\r\n            <GameSpeedChat \r\n                userKey={userKey} setXP={setXP} dialects={dialects} \r\n                onBack={() => setActiveGame(\"HOME\")} \r\n                greeting={greeting} \r\n            />\r\n        )}\r\n\r\n        {activeGame === \"VISION\" && (\r\n            <GameVisionQuest \r\n                userKey={userKey} setXP={setXP} dialects={dialects} \r\n                onBack={() => setActiveGame(\"HOME\")} \r\n                greeting={greeting} \r\n            />\r\n        )}\r\n\r\n        {/* FOOTER */}\r\n        <div className=\"id-footer\" onClick={() => {navigator.clipboard.writeText(userKey); alert(\"Copied ID\")}}>\r\n            OPERATOR: {address.slice(0,6)}... (Tap to Copy ID)\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// ==========================================\r\n// üè† HOME MENU \r\n// ==========================================\r\nfunction HomeMenu({ onSelect, greeting }) {\r\n    return (\r\n        <div className=\"home-layout\">\r\n            <div className=\"welcome-banner\">\r\n                <p>{greeting}</p>\r\n            </div>\r\n            \r\n            <div className=\"menu-grid\">\r\n                <div className=\"menu-card\" onClick={() => onSelect(\"ARCHIVIST\")}>\r\n                    <div className=\"icon\">üìú</div>\r\n                    <h3>The Archivist</h3>\r\n                    <p>Relaxed. Daily Journaling.</p>\r\n                </div>\r\n                <div className=\"menu-card highlight\" onClick={() => onSelect(\"CHAT\")}>\r\n                    <div className=\"icon\">‚ö°</div>\r\n                    <h3>Speed Chat</h3>\r\n                    <p>10s Timer. Rapid Fire.</p>\r\n                </div>\r\n                <div className=\"menu-card\" onClick={() => onSelect(\"VISION\")}>\r\n                    <div className=\"icon\">üëÅÔ∏è</div>\r\n                    <h3>Vision Quest</h3>\r\n                    <p>Describe what you see.</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// ==========================================\r\n// üìú GAME 1: THE ARCHIVIST (Infinite Loop + Safety Text)\r\n// ==========================================\r\nfunction GameArchivist({ userKey, setXP, dialects, onBack, greeting }) {\r\n    const [mission, setMission] = useState({ \r\n        text: greeting, \r\n        subtext: \"Retrieving Archive Topic...\", \r\n        image: getDoodleUrl(\"abstract\") \r\n    });\r\n    \r\n    const { status, startRecording, stopRecording, mediaBlobUrl } = useReactMediaRecorder({ \r\n    \taudio: true,\r\n    \tblobPropertyBag: { type: \"audio/wav\" } // üü¢ FORCE WAV FORMAT\r\n    });\r\n    \r\n    // üü¢ INFINITE LOOP LOGIC FOR ARCHIVIST\r\n    const loadNextTopic = async () => {\r\n        const topics = [\"Daily Life\", \"Food\", \"Weather\", \"Childhood\", \"Hobbies\", \"Weekend Plans\", \"Family\"];\r\n        const randomTopic = getRandom(topics);\r\n        \r\n        // Show loading state with topic\r\n        setMission(prev => ({ ...prev, subtext: `Loading Topic: ${randomTopic}...` }));\r\n\r\n        try {\r\n            const app = await Client.connect(SPACE_URL);\r\n            const res = await app.predict(\"/generate_mission\", [randomTopic]);\r\n            const data = JSON.parse(res.data[0]);\r\n            setMission({ \r\n                text: data.text, \r\n                subtext: \"Journal Entry ‚Ä¢ Keep it short (1 sentence)\", // üü¢ SAFETY REMINDER\r\n                image: getDoodleUrl(randomTopic) \r\n            });\r\n        } catch { \r\n            setMission({ \r\n                text: `Tell me a short sentence about your ${randomTopic.toLowerCase()}.`, \r\n                subtext: \"Offline Mode ‚Ä¢ Keep it short (1 sentence)\", \r\n                image: getDoodleUrl(\"coffee\") \r\n            }); \r\n        }\r\n    };\r\n\r\n    // Load first topic on mount\r\n    useEffect(() => { loadNextTopic(); }, []);\r\n\r\n    return (\r\n        <SharedGameLayout\r\n            title=\"ARCHIVE ENTRY\"\r\n            mission={mission}\r\n            recStatus={status}\r\n            startRec={startRecording}\r\n            stopRec={stopRecording}\r\n            mediaBlob={mediaBlobUrl}\r\n            dialects={dialects}\r\n            userKey={userKey}\r\n            setXP={setXP}\r\n            onBack={onBack}\r\n            onNext={loadNextTopic} // üü¢ Pass loop function\r\n        />\r\n    );\r\n}\r\n\r\n// ==========================================\r\n// ‚ö° GAME 2: SPEED CHAT (Infinite Loop + Timer)\r\n// ==========================================\r\nfunction GameSpeedChat({ userKey, setXP, dialects, onBack, greeting }) {\r\n    const [stage, setStage] = useState(\"onboarding\"); \r\n    const [nickname, setNickname] = useState(localStorage.getItem(\"pure_nickname\") || \"\");\r\n    \r\n    const [mission, setMission] = useState({ \r\n        text: greeting, \r\n        subtext: \"Establishing Secure Link...\",\r\n        image: getDoodleUrl(\"network\") \r\n    });\r\n\r\n    const [timeLeft, setTimeLeft] = useState(10);\r\n    const { status, startRecording, stopRecording, mediaBlobUrl } = useReactMediaRecorder({ \r\n    \taudio: true,\r\n    \tblobPropertyBag: { type: \"audio/wav\" } // üü¢ FORCE WAV FORMAT\r\n    });\r\n    \r\n    const timerRef = useRef(null);\r\n\r\n    // Timer Logic\r\n    useEffect(() => {\r\n        if (status === \"recording\") {\r\n            setTimeLeft(10);\r\n            timerRef.current = setInterval(() => {\r\n                setTimeLeft(p => {\r\n                    if (p <= 1) { stopRecording(); return 0; }\r\n                    return p - 1;\r\n                });\r\n            }, 1000);\r\n        } else { clearInterval(timerRef.current); }\r\n        return () => clearInterval(timerRef.current);\r\n    }, [status, stopRecording]);\r\n\r\n    const fetchMission = async (topic) => {\r\n        setMission(prev => ({ \r\n            ...prev, \r\n            text: greeting, \r\n            subtext: `Loading Topic: ${topic}...` \r\n        }));\r\n        \r\n        try {\r\n            const app = await Client.connect(SPACE_URL);\r\n            const res = await app.predict(\"/generate_mission\", [`Ask ${nickname} about ${topic}`]);\r\n            const data = JSON.parse(res.data[0]);\r\n            setMission({ text: data.text, subtext: `Target: ${topic}`, image: getDoodleUrl(topic) });\r\n        } catch { \r\n            setMission({ text: `Hey ${nickname}, tell me about ${topic}!`, subtext: \"Offline Mode\", image: getDoodleUrl(topic) }); \r\n        }\r\n    };\r\n\r\n    if (stage === \"onboarding\") {\r\n        return (\r\n            <div className=\"onboarding-screen\">\r\n                <h3>IDENTIFY YOURSELF</h3>\r\n                <input className=\"cyber-input\" value={nickname} onChange={e => setNickname(e.target.value)} placeholder=\"Enter Codename\" />\r\n                <div style={{marginTop:'20px'}}>\r\n                    <button className=\"cyber-button\" onClick={() => {\r\n                        if(!nickname) return;\r\n                        localStorage.setItem(\"pure_nickname\", nickname);\r\n                        setStage(\"challenge\");\r\n                        fetchMission(\"Hobbies\");\r\n                    }}>START MISSION</button>\r\n                    <br/><br/>\r\n                    <button className=\"cancel-btn\" onClick={onBack}>RETURN TO BASE</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <SharedGameLayout\r\n            title={`CHAT: ${nickname.toUpperCase()}`}\r\n            mission={mission}\r\n            recStatus={status}\r\n            startRec={startRecording}\r\n            stopRec={stopRecording}\r\n            mediaBlob={mediaBlobUrl}\r\n            dialects={dialects}\r\n            userKey={userKey}\r\n            setXP={setXP}\r\n            onBack={onBack}\r\n            timer={timeLeft} \r\n            onNext={() => fetchMission(getRandom([\"Food\", \"Traffic\", \"Music\", \"Money\", \"Work\", \"School\", \"Family\", \"Dreams\"]))} \r\n        />\r\n    );\r\n}\r\n\r\n// ==========================================\r\n// üëÅÔ∏è GAME 3: VISION QUEST (Clean View + Infinite)\r\n// ==========================================\r\nfunction GameVisionQuest({ userKey, setXP, dialects, onBack, greeting }) {\r\n    const [mission, setMission] = useState({ \r\n        text: greeting, \r\n        subtext: \"Calibrating Optical Sensors...\",\r\n        image: getPhotoUrl(\"cyberpunk\") \r\n    });\r\n\r\n    // Inside GameVisionQuest\r\n    const { status, startRecording, stopRecording, mediaBlobUrl } = useReactMediaRecorder({ \r\n    \taudio: true,\r\n    \tblobPropertyBag: { type: \"audio/wav\" } // üü¢ FORCE WAV FORMAT\r\n    });\r\n\r\n    const loadNewImage = () => {\r\n        const keywords = [\"market\", \"street\", \"festival\", \"classroom\", \"kitchen\", \"traffic\", \"cyberpunk\", \"park\", \"office\"];\r\n        const k = getRandom(keywords);\r\n        setMission({\r\n            text: \"Describe exactly what you see in this image. Be specific.\",\r\n            subtext: `Target Sector: ${k.toUpperCase()}`,\r\n            image: getPhotoUrl(k) \r\n        });\r\n    };\r\n\r\n    // Load initial image (user sees greeting briefly then this loads)\r\n    useEffect(() => { \r\n        setTimeout(loadNewImage, 2500); \r\n    }, []);\r\n\r\n    return (\r\n        <SharedGameLayout\r\n            title=\"OBSERVATION DECK\"\r\n            mission={mission}\r\n            recStatus={status}\r\n            startRec={startRecording}\r\n            stopRec={stopRecording}\r\n            mediaBlob={mediaBlobUrl}\r\n            dialects={dialects}\r\n            userKey={userKey}\r\n            setXP={setXP}\r\n            onBack={onBack}\r\n            onNext={loadNewImage} \r\n            mode=\"vision\" \r\n        />\r\n    );\r\n}\r\n\r\n// ==========================================\r\n// ‚öôÔ∏è SHARED GAME LAYOUT (THE ENGINE)\r\n// ==========================================\r\nfunction SharedGameLayout({ title, mission, recStatus, startRec, stopRec, mediaBlob, dialects, userKey, setXP, onBack, onNext, timer, mode }) {\r\n    const [step, setStep] = useState(\"RECORD\"); \r\n    \r\n    // Data State\r\n    const [transcribed, setTranscribed] = useState(\"\");\r\n    const [clarification, setClarification] = useState(\"\");\r\n    const [tone, setTone] = useState(\"Neutral / Conversational\"); \r\n    const [context, setContext] = useState(\"General\");\r\n    const [pragmatics, setPragmatics] = useState(\"\");\r\n    \r\n    const [dialect, setDialect] = useState(dialects[0] || \"General\");\r\n    const [customD, setCustomD] = useState(\"\");\r\n\r\n    const handleAnalyze = async () => {\r\n        if (!mediaBlob) return;\r\n        setStep(\"ANALYZING\");\r\n        try {\r\n            const blob = await fetch(mediaBlob).then(r => r.blob());\r\n            const app = await Client.connect(SPACE_URL);\r\n            const d = dialect === \"+ Add New Dialect\" ? customD : dialect;\r\n            \r\n            const tRes = await app.predict(\"/transcribe_check\", [blob, d]);\r\n            setTranscribed(tRes.data[0]);\r\n            \r\n            const cRes = await app.predict(\"/generate_clarifications\", [tRes.data[0], d]);\r\n            const cData = JSON.parse(cRes.data[0]);\r\n            \r\n            setClarification(cData.clarification || cData.Meaning || \"\");\r\n            setContext(cData.context || \"General\");\r\n            setPragmatics(cData.pragmatics || \"\");\r\n            \r\n            setStep(\"REVIEW\");\r\n        } catch (e) { \r\n            console.error(\"ANALYSIS FAILED:\", e); // üü¢ LOG ERROR TO CONSOLE\r\n            setStep(\"REVIEW\"); \r\n            setTranscribed(`Error: ${e.message || \"Connection Failed\"}.`); // üü¢ SHOW REAL ERROR\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        setStep(\"MINTING\");\r\n        try {\r\n            const blob = await fetch(mediaBlob).then(r => r.blob());\r\n            const app = await Client.connect(SPACE_URL);\r\n            const d = dialect === \"+ Add New Dialect\" ? customD : dialect;\r\n            \r\n            await app.predict(\"/check_and_submit_logic\", [\r\n                transcribed, d, customD, clarification, tone, context, pragmatics, userKey, blob, false\r\n            ]);\r\n            setXP(p => p + 50);\r\n            \r\n            if (onNext) { \r\n                setStep(\"RECORD\"); \r\n                setTranscribed(\"\");\r\n                setClarification(\"\");\r\n                onNext(); \r\n            } \r\n            else { onBack(); }\r\n        } catch { setStep(\"RECORD\"); }\r\n    };\r\n\r\n    return (\r\n        <div className=\"game-layout\">\r\n            \r\n            {/* üü¢ DYNAMIC LAYOUT SWITCHER */}\r\n            {mode === \"vision\" ? (\r\n                // VISION MODE (Clean Layout)\r\n                <div className=\"vision-mode-container\">\r\n                    <div \r\n                        className=\"vision-image\" \r\n                        style={{backgroundImage: `url(${mission.image})`}} \r\n                    />\r\n                    <div className=\"vision-text-block\">\r\n                        <h3>{title}</h3>\r\n                        {mission.subtext && <p className=\"subtext\">{mission.subtext}</p>}\r\n                        <p className=\"main-text\">{mission.text}</p>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                // ARCHIVIST/CHAT MODE (Overlay Layout)\r\n                <div className=\"mission-card\">\r\n                    <div className=\"doodle-bg\" style={{backgroundImage: `url(${mission.image})`}} />\r\n                    <div className=\"mission-content-overlay\">\r\n                        <div>\r\n                            <h3>{title}</h3>\r\n                            {mission.subtext && <p style={{fontSize:'0.8em', opacity:0.7, marginBottom:'5px'}}>{mission.subtext}</p>}\r\n                            <p>{mission.text}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"control-panel\">\r\n                {step === \"RECORD\" && (\r\n                    <>\r\n                        <div className=\"dialect-selector\">\r\n                            {/* üü¢ DIALECT HELPER TEXT */}\r\n                            <label style={{fontSize: '11px', color: '#94a3b8', display: 'block', marginBottom: '6px', letterSpacing: '1px', fontWeight: '600'}}>\r\n                                SELECT TARGET DIALECT (OR ADD NEW):\r\n                            </label>\r\n\r\n                            <select value={dialect} onChange={e => setDialect(e.target.value)}>\r\n                                {dialects.map(d => <option key={d} value={d}>{d}</option>)}\r\n                            </select>\r\n                            {dialect === \"+ Add New Dialect\" && (\r\n                                <input \r\n                                    className=\"cyber-input\" \r\n                                    placeholder=\"Enter Name (e.g. Toronto Slang)\" \r\n                                    value={customD} \r\n                                    onChange={e => setCustomD(e.target.value)} \r\n                                    style={{marginTop:'8px'}}\r\n                                />\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className={`record-zone ${recStatus === \"recording\" ? \"active\" : \"\"}`}>\r\n                            {timer !== undefined && recStatus === \"recording\" && <div className=\"timer\">{timer}s</div>}\r\n                            <button \r\n                                className={`record-btn ${recStatus === \"recording\" ? \"pulsing\" : \"\"}`}\r\n                                onMouseDown={startRec} onMouseUp={stopRec}\r\n                                onTouchStart={startRec} onTouchEnd={stopRec}\r\n                            >\r\n                                {recStatus === \"recording\" ? \"üõë RELEASE\" : \"üéôÔ∏è HOLD TO SPEAK\"}\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"action-row\">\r\n                             <button className=\"cancel-btn\" onClick={onBack}>BACK</button>\r\n                             <button className=\"cyber-button\" onClick={handleAnalyze} disabled={!mediaBlob}>ANALYZE</button>\r\n                        </div>\r\n                    </>\r\n                )}\r\n\r\n                {(step === \"ANALYZING\" || step === \"MINTING\") && <div className=\"loading\">PROCESSING...</div>}\r\n\r\n                {step === \"REVIEW\" && (\r\n                    <div className=\"review-box\">\r\n                        {/* üü¢ RESTORED AUDIO PLAYER */}\r\n                        <div className=\"audio-preview\" style={{marginBottom: '10px'}}>\r\n                            <label style={{fontSize:'10px', color:'#94a3b8', display:'block', marginBottom:'5px'}}>REVIEW RECORDING:</label>\r\n                            <audio src={mediaBlob} controls style={{width: '100%', borderRadius: '8px'}} />\r\n                        </div>\r\n\r\n                        <div className=\"input-group\">\r\n                            <label>I HEARD:</label>\r\n                            <textarea value={transcribed} onChange={e => setTranscribed(e.target.value)} />\r\n                        </div>\r\n                        \r\n                        <div className=\"input-group\">\r\n                            <label>MEANING:</label>\r\n                            <textarea value={clarification} onChange={e => setClarification(e.target.value)} />\r\n                        </div>\r\n\r\n                        <div className=\"input-group\">\r\n                            <label>TONE:</label>\r\n                            <select value={tone} onChange={e => setTone(e.target.value)}>\r\n                                {TONES.map(t => <option key={t} value={t}>{t}</option>)}\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className=\"action-row\">\r\n                            <button className=\"cancel-btn\" onClick={() => setStep(\"RECORD\")}>RETRY</button>\r\n                            <button className=\"cyber-button\" onClick={handleSubmit}>MINT (+50 XP)</button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}